<!-- Coded for PS3™ Pro by Luan Teles -->
<html>
   <head>
		<title>PlayStation&trade; Network Database</title>	
			<link rel="apple-touch-icon" sizes="180x180" href="https://raw.githubusercontent.com/PS3-Pro/PSN-Content/master/resources/favicon/apple-touch-icon.png">
			<link rel="icon" type="image/png" sizes="32x32" href="https://raw.githubusercontent.com/PS3-Pro/PSN-Content/master/resources/favicon/favicon-32x32.png">
			<link rel="icon" type="image/png" sizes="16x16" href="https://raw.githubusercontent.com/PS3-Pro/PSN-Content/master/resources/favicon/favicon-16x16.png">
			<link rel="manifest" href="https://raw.githubusercontent.com/PS3-Pro/PSN-Content/master/resources/favicon/site.webmanifest">
	  </head>
   <script>
      javascript:window.resizeTo(screen.width,screen.height)
   </script>
   <style>
        /* =========================================
           1. GLOBAL & RESET
           ========================================= */
        html, body {
            margin: 0;
            padding: 0;
            height: 100%;
			background: url("https://raw.githubusercontent.com/PS3-Pro/PSN-Content/master/resources/background/official.png") no-repeat center center;
			background-size: cover;
            color: #fff;
            font-family: Arial, sans-serif;
            text-align: center;
            overflow: hidden; 
        }
		
		body.is-ps3 {
			background-size: 100% 100%;
		}

        /* =========================================
           2. SCROLLBARS
           ========================================= */
        ::-webkit-scrollbar {
            width: 6px;
            height: 10px;
        }

        ::-webkit-scrollbar-track {
            background: rgba(0, 0, 0, 0.3);
            border-radius: 2px;
        }

        ::-webkit-scrollbar-thumb {
            background: #66ccff;
            background-color: #66ccff !important; 
			border: 1px solid #00008B !important; 
			border-radius: 4px !important; 
        }

        ::-webkit-scrollbar-thumb:hover {
            background: #0000CD;
        }
		
		.is-ps3 ::-webkit-scrollbar {
			-webkit-appearance: none !important;
			width: 6px !important;
			display: block !important;
		}
		.is-ps3 ::-webkit-scrollbar-track {
			background-color: rgba(0,0,0,0.3) !important;
		}
		.is-ps3 ::-webkit-scrollbar-thumb {
			background-color: #66ccff !important; 
			border: 1px solid #00008B !important; 
			border-radius: 4px !important; 
			display: block !important;
		}

        /* =========================================
           3. HEADER
           ========================================= */
        header {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            height: 250px;
            padding: 10px 15px;
            background: rgba(0, 0, 0, 0.6);
            text-align: center;
            font-size: 12px;
            font-weight: bold;
            border-bottom: 2px solid #888;
            display: block;
            z-index: 20;
        }

        header a {
            font-size: 2.3em;
            color: #ffffff;
            text-decoration: none;
            font-weight: bold;
            display: block;
        }

        header a:hover {
            color: #66ccff;
        }
		
		header form {
			margin-top: 15px;
			display: flex;
			flex-wrap: wrap; 
			align-items: center;
			justify-content: center;
			gap: 5px; 
			white-space: nowrap;
		}
		
		header #search-group {
			display: flex;
			align-items: center;
			width: 100%;
			justify-content: center; 
			margin-bottom: 10px;
		}
		
		header #controls-group {
			display: flex;
			align-items: center;
			justify-content: center;
			gap: 10px;
		}

        header .toggle-btn {
            font-size: 1.2em;
            padding: 0 10px;
            background: rgba(0, 0, 0, 0.6);
            border: 1px solid #aaa;
            border-radius: 5px;
            cursor: pointer;
            display: inline-block;
            vertical-align: middle;
            margin-left: 5px;
            line-height: 29px;
            box-sizing: border-box;
        }

        .is-ps3 header .toggle-btn {
            margin-top: -5px;
        }

        header #cover-toggle label,
        header #cover-toggle label input[type="checkbox"],
        header #audio-switch label,
        header #audio-switch label input[type="checkbox"] {
            vertical-align: middle;
            display: inline-block;
            gap: 5px;
            margin: 0;
        }

        /* =========================================
           4. MENUS
           ========================================= */
		   
		#selection-menu { display: block !important; }
		#selection-menu-unofficial { display: none !important; }

       #selection-menu, #selection-menu-unofficial {
            position: fixed;
            top: 250px;
            left: 0;
            right: 0;
            height: 28px;
            background: rgba(0, 0, 0, 0.0);
            z-index: 25;
            font-size: 1em;
			display: block;      
			text-align: center;
			white-space: nowrap;
        }
		
        #selection-menu a, 
		#selection-menu-unofficial a {
			display: inline-block;
			color: #fff;
			text-decoration: none;
			font-weight: bold;
			margin: 0 10px;
			line-height: 28px;
		}

        #selection-menu a:hover,
		#selection-menu a.active {
			color: #66ccff;
			text-decoration: underline;
		}

        /* =========================================
           5. INPUTS
           ========================================= */
        form {
            margin: 10px auto;
        }

        input[type="search"],
        input[type="submit"],
        input[type="button"] {
            font-size: 1.2em;
            padding: 6px 10px;
            background: rgba(0, 0, 0, 0.6);
            border: 1px solid #aaa;
            border-radius: 5px;
            cursor: pointer;
			transition: border-color 0.2s, background-color 0.2s;
        }

        input[type="submit"],
        input[type="button"] {
            color: #fff;
            margin-left: 5px;
        }
		
		input[type="submit"]:hover,
        input[type="button"]:hover,
        button:hover {
            border-color: #66ccff !important;
        }

        input[type="search"] {
            width: 210px;
            color: #fff;
			margin-right: 10px;
			margin-left: -7px;
        }
		
		.is-ps3 input[type="search"] {
            color: #0056b3;
			margin-right: 0px;
        }
		
		.is-pc input[name="send"] {
        display: none !important;
		}
		
		@property --angle {
			syntax: '<angle>';
			initial-value: 0deg;
			inherits: false;
		}
		
		.is-pc input[name="query"] {
			border-radius: 4px;
			outline: none;
			border: 2px solid transparent;
			background:
				linear-gradient(#fff, #fff) padding-box, 
				conic-gradient(from var(--angle), #aaa 75%, #00aaff 100%) border-box;
			animation: rotate-border 3s linear infinite;
		}

		.is-pc input[name="query"]:focus,
		.is-pc input[name="query"]:not(:placeholder-shown) {
			background: 
				linear-gradient(#222, #222) padding-box,
				conic-gradient(from var(--angle), transparent 50%, #ffffff 100%) border-box;
			animation-duration: 1.5s;
			color: #fff !important;
		}

        button {
            margin: 2px;
            background: rgba(0, 0, 0, 0.6);
            border: 1px solid #aaa;
            color: #fff;
            border-radius: 4px;
            font-size: 1em;
            padding: 3px 6px;
        }

        button:hover {
            background: rgba(255, 255, 255, 0.1);
        }
		
		.pkg-btn {
            background: #007bff;
            text-decoration: none;
            color: #fff !important;
            padding: 2px 6px;
            margin-left: 10px;
            border-radius: 4px;
            font-size: 1.0em;
            display: inline-block;
            white-space: nowrap;
            border: 1px solid #0056b3;
            transition: background-color 0.2s;
        }
		
		.rap-btn {
            background: #fff;
            text-decoration: none;
            color: #fff !important;
            padding: 2px 6px;
            margin-left: 10px;
            border-radius: 4px;
            font-size: 1.0em;
            display: inline-block;
            white-space: nowrap;
            border: 1px solid #888 !important;
            transition: background-color 0.2s;
        }
		
		.rap-btn:hover {
            text-decoration: underline !important;
        }

        .pkg-btn:hover {
            text-decoration: underline !important;
        }
		
		@property --angle {
		syntax: '<angle>';
		initial-value: 0deg;
		inherits: false;
		}

		#license-link-rainbow.rainbow-btn {
			-webkit-appearance: none !important;
			appearance: none !important;
			border: 1.5px solid transparent !important; 
			background-image: 
				linear-gradient(120deg, transparent 30%, rgba(255, 255, 255, 0.8) 50%, transparent 70%),
				linear-gradient(#050a14, #050a14), 
				conic-gradient(from var(--angle), #ff0000, #ff7f00, #ffff00, #00ff00, #00ffff, #0000ff, #ff00ff, #ff0000);
			background-origin: padding-box, padding-box, border-box;
			background-clip: padding-box, padding-box, border-box;
			background-size: 200% 100%, 100% 100%, 100% 100%;
			background-repeat: no-repeat;
			background-color: transparent !important;
			animation: shine-move 3s infinite linear, rotate-border 2s infinite linear;
		}
	
		@keyframes shine-move {
			0% { background-position: 200% 0, 0 0, 0 0; }
			100% { background-position: -200% 0, 0 0, 0 0; }
		}
	
		@keyframes rotate-border {
			to { --angle: 360deg; }
		}
		
		.is-ps3 #zoom-container {
            display: none !important;
        }

        #zoom-container {
            display: inline-block;
            vertical-align: middle;
            margin-left: 5px;
            background: rgba(0, 0, 0, 0.6);
            border: 1px solid #aaa;
            border-radius: 5px;
            padding: 0 10px;
            height: 29px;
            line-height: 29px;
        }

        #zoom-slider {
            vertical-align: middle;
            width: 60px;
            cursor: pointer;
        }
		
		header .toggle-btn,
        #zoom-container {
            transition: border-color 0.2s, background-color 0.2s;
            cursor: pointer;
        }

        header .toggle-btn:hover,
        #zoom-container:hover {
            border-color: #66ccff !important;
        }
		
		.id-text { color: #ffff00 !important;}
		.rap-lime { background-color: lime; width: 10px; height: 10px; display: inline-block; }
		.rap-red { background-color: red; width: 10px; height: 10px; display: inline-block; }
		.size { color: #AAA !important;}

        /* =========================================
           6. LAYOUT (Sidebar + Content)
           ========================================= */
        #main {
            width: 100%;
            height: 100%;
            position: relative;
            top: 290px; 
        }

        .sidebar {
            position: fixed;
            top: 270px;
            bottom: 0;
            left: 0;
            width: 80px;
            background: rgba(0, 0, 0, 0.6);
            box-sizing: border-box;
            border-right: 2px solid #888;
            z-index: 30;
            display: flex;
            flex-direction: column;
            padding: 0 5px 5px 5px;
            overflow: hidden;
        }

        .sidebar-right {
            position: fixed;
            top: 270px;
            bottom: 0;
            right: 0;
            width: 80px;
            background: rgba(0, 0, 0, 0.6);
            padding: 0 5px 5px 5px;
            box-sizing: border-box;
            border-left: 2px solid #888;
            z-index: 30;
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }

        .is-pc .sidebar-top-border {
            position: fixed;
            top: 1px;
            bottom: 0;
            width: 90px;
            height: 2px;
            background: rgba(0, 8, 30, 1);
            margin-top: -2px;
            z-index: 31;
			left: -5px;
			margin-left: -7px;
        }

        .is-ps3 .sidebar-top-border {
			position: fixed;
            top: 272px;
            bottom: 0;
            width: 90px;
            height: 2px;
            background: rgba(0, 8, 30, 1);
            margin-top: -2px;
            z-index: 31;
			left: 5px;
			margin-left: -7px;
		}

        .is-pc .sidebar-right-top-border {
            position: fixed;
            top: 1px;
            width: 90px;
            height: 2px;
            background: rgba(7, 5, 60, 0.7);
            margin-top: -2px;
            z-index: 31;
			right: -5px;
			margin-right: -7px;
        }
		
		.is-ps3 .sidebar-right-top-border {
            position: fixed;
            top: 272px;
            width: 90px;
            height: 2px;
            background: rgba(7, 5, 60, 0.7);
            margin-top: -2px;
            z-index: 31;
			right: 5px;
			margin-right: -7px;
        }

        .sidebar-heading-left,
        .sidebar-heading-right {
            color: #FFFFFF;
            font-weight: bold;
            font-size: 1.2em;
            margin-top: 0px;
            text-align: center;
            flex-shrink: 0;
        }

        .sidebar ul, .sidebar-right ul { list-style: none; padding: 0; margin: 0; }
        .sidebar ul li, .sidebar-right ul li { margin: 5px 0; }
        .sidebar ul li a, .sidebar-right ul li a { text-decoration: underline; display: block; color: #ffffff; }
        .sidebar ul li a:hover, .sidebar-right ul li a:hover { color: #ffff00; }
        .sidebar ul li a:active, .sidebar-right ul li a:active { color: #0000ff; }

        #letters {
            margin-top: 10px;
            flex-grow: 1;
            overflow-y: auto;
            overflow-x: hidden;
			font-size: 0.85em;
            padding-bottom: 5px;
        }

        #letters a { width: 100%; text-align: center; margin: 2px 0; display: block; color: #ffffff; text-decoration: underline; }
        #letters a.active { color: #66ccff; text-decoration: underline; font-weight: bold; }
        #letters a:hover { color: #ffff00; }

        #region-links {
            margin-top: -10px;
            font-size: 0.85em;
            padding-bottom: 5px;
        }

        #region-links a, #license-links a { width: 100%; text-align: center; margin: 2px 0; display: block; color: #ffffff; }
        #region-links a.active { color: #66ccff; text-decoration: underline; font-weight: bold; }
		#region-links a:hover { color: #ffff00; }
        #license-links { margin-top: 20px; }

		.is-ps3 #letters {
			display: block !important;
			position: absolute !important;
			top: 30px !important; 
			bottom: 0 !important;
			left: 0 !important;
			right: 8px !important; 
			width: auto !important;
			overflow-y: scroll !important;
			overflow-x: hidden !important;
			padding: 0 2px 20px 2px !important; 
			box-sizing: border-box !important;
			margin: 0 !important;
      }
	  
		.is-ps3 #region-links {
			display: block !important;
			top: 30px !important; 
			left: 0 !important;
			right: 8px !important; 
			width: auto !important;
			padding: 0 2px 20px 2px !important; 
			box-sizing: border-box !important;
			margin: 0 !important;
		}
	  
		#console-links, #apps-links {
			list-style: none;
			padding: 0;
			margin: 0;
			text-align: left;
			flex-grow: 0;
		}
		
		#console-links li, #apps-links li {
			margin: 2px 0;
			font-size: 0.85em;
			display: block;
			text-align: left;
		}
		
		#console-links label, #apps-links label {
			color: #fff;
			cursor: pointer;
			display: block; 
			text-align: left; 
			padding: 0;
			margin: 0;
		}
		
		#console-links input[type="checkbox"], #apps-links input[type="checkbox"] {
			vertical-align: middle;
			margin-right: 5px;
		}
	  
        /* =========================================
           7. CONTENT
           ========================================= */
        .content {
            margin-left: 85px;
            margin-right: 85px;
            height: calc(100vh - 310px);
            overflow-y: auto;
            overflow-x: hidden;
            text-align: center;
            display: block;
            padding-bottom: 20px;
			position: relative;
            z-index: 1;
        }

        .is-ps3 .content {
            display: block !important;
            position: fixed !important;
            top: 290px !important;
            bottom: 0px !important;
            left: 85px !important;
            right: 100px !important;            
            margin: 0 !important;
            padding: 0 !important;
			padding-left: 20px !important;
            width: auto !important; 
            overflow-y: scroll !important;
            z-index: 1 !important;
        }

        #bottom-spacer {
            display: block;
            width: 100%;
            height: 20px;
            clear: both;
            visibility: hidden;
        }

        .is-ps3 .sidebar,
        .is-ps3 .sidebar-right {
            display: block !important;
            overflow-y: auto !important;
			overflow-x: hidden !important;
            position: fixed !important;
            height: auto !important;
        }

        /* =========================================
           8. LISTA E GRID
           ========================================= */
        #list { --scale: 1; }

        ul#list {
            max-width: 1760px;
            min-width: 400px;
            list-style: none;
            padding: 10px 20px;
            margin: 0 auto;
            text-align: left;
            font-size: 1em;
            background: rgba(0, 0, 0, 0.5);
            border-radius: 10px;
            display: inline-block;
            vertical-align: top;
			border: 1px solid #888;
			position: relative;
			z-index: 1;
        }

        ul#list li {
			display: block;
			padding: 8px 10px;
			border-bottom: 1px solid #333;
		}
	  
		ul#list li:only-child {
            border-bottom: none !important;
			padding: 0px 10px;
        }

        ul#list li:hover {
			position: relative;
			background: rgba(102, 204, 255, 0.15) !important;
			border-color: #66ccff;
			box-shadow: 0 4px 15px rgba(0, 0, 0, 0.5);
			z-index: 1;
		}

		ul#list li a {
			text-decoration: none;
			color: #fff;
			display: inline;
			white-space: nowrap;
		}
      
		ul#list li a:hover {
			text-decoration: underline;
			color: #66ccff;
		}
		
		.is-pc ul#list:not(.grid) li:hover::before {
			content: "";
			position: absolute;
			inset: 0;
			border-radius: 4px;
			background-image: linear-gradient(
				120deg, 
				transparent 30%, 
				rgba(255, 255, 255, 0.15) 50%,
				transparent 70%
			);
			background-size: 200% 100%;
			background-repeat: no-repeat;
			animation: shine-move 2s infinite linear;
			z-index: -1; 
			pointer-events: none;
		}
		
        .is-ps3 ul#list {
            margin-bottom: 0 !important;
            border-bottom: none !important;
        }

        #list.grid {
			font-size: 0;
            text-align: center;
            background: transparent;
            padding: 0px;
        }

       	ul#list.grid {
            text-align: center;
            background: transparent !important;
            border: none !important; 
            box-shadow: none !important; 
            padding-top: 0px !important;
            margin-top: -8px !important;
            padding-right: 110px;
            padding-left: 110px;
        }

        .is-pc ul#list.grid {
            padding-right: 20px !important;
            padding-left: 20px !important;
            max-width: 98% !important;
        }
		
		.is-ps3 ul#list.grid {
            padding-left: 15px !important;
            padding-right: 15px !important;
            padding-top: 0px !important; 
            margin-top: -8px !important;
        }
		
		ul#list.grid li {
			display: block !important; 
			width: auto !important;
			min-width: 0 !important; 
			margin-left: 0 !important;
			margin-right: 0 !important;
			font-size: 16px !important;
			color: #fff !important;
			line-height: normal !important;
			text-align: left !important;
			box-sizing: border-box !important;
			background: rgba(0, 0, 0, 0.5) !important;
			border: 1px solid #888 !important; 
			border-radius: 10px !important;
			padding: 10px 20px !important;
			margin-top: 8px !important;
		}

        [download] {
            background: #fff;
            color: #000 !important;
            padding: 2px 6px;
            margin-left: 5px;
            text-decoration: none;
            border-radius: 3px;
            font-size: 1.0em;
            display: inline;
            white-space: nowrap;
        }

        .game-tile .links a[href$=".pkg"],
        ul#list li a[href$=".pkg"] {
            background: #007bff;
            text-decoration: none;
            color: #fff !important;
            padding: 2px 6px;
            margin-left: 5px;
            border-radius: 4px;
            font-size: 1.0em;
            display: inline-block;
            white-space: nowrap;
            border: 1px solid #0056b3;
            transition: background-color 0.2s;
        }

        .game-tile .links a[href$=".pkg"]:hover,
        ul#list li a[href$=".pkg"]:hover {
            background: #0056b3;
            text-decoration: underline !important;
        }

        /* =========================================
           9. GAME TILE
           ========================================= */
        .game-tile {
            display: inline-block;
            width: 140px;
            margin: 8px;
            background: rgba(0, 0, 0, 0.6);
            border-radius: 6px;
            padding: 15px 11px 15px 11px;
            text-align: center;
            vertical-align: top;
            font-size: 12px; 
			border: 1px solid #888;
        }

        .game-tile:hover {
            background: rgba(8, 16, 32, 1);
            border-color: #66ccff;
        }

        .game-tile img {
			width: 120px;
			height: 138px;
			border-radius: 4px;
			box-shadow: 0 2px 5px rgba(0,0,0,0.5);
			object-fit: fill;
			transition: transform 0.2s;
		}
		
		.game-tile img:hover {
			transform: scale(1.05);
		}
		
		.is-ps3 .game-tile img {
			border-radius: 0 !important;
			box-shadow: none !important;
			border: none !important;
			transition: none !important;
			transform: none !important;
		}
		
        .game-tile .title {
            font-weight: bold;
            font-size: 12px;
            overflow: hidden;
            margin: 6px 0 2px;
            line-height: 13px;
            height: 27px;
            display: block;
            text-overflow: ellipsis;
        }

        .game-tile .title-id { color: #ffff00 !important; font-size: 11px; margin-bottom: 8px; }
        .game-tile .size { color: #aaa; font-size: 11px; margin-bottom: 8px;}
        
		.game-tile .links { 
			margin-top: 4px; 
			font-size: 10px; 
			display: flex;
			justify-content: center;
			align-items: center;
			flex-wrap: nowrap;
			gap: 4px;
		}
		
		.game-tile .links a { 
			color: #fff; 
			margin: 0 !important;
			text-decoration: none;
		}
		
		.is-ps3 .game-tile .links {
			display: block;
			width: 100%;
			font-size: 10px;
			text-align: center;
			white-space: nowrap;
			margin-top: 4px;
			height: 15px;
			line-height: 15px;
		}
		
		.is-ps3 .game-tile .links a {
			display: inline-block;
			vertical-align: top;
			padding: 0 5px;
			margin: 0 2px !important;
			color: #fff;
		}
		
        .game-tile .links a:hover { color: #66ccff; text-decoration: underline !important; }

        .is-pc .game-tile {
            width: calc(140px * var(--scale));
            transition: width 0.1s ease;
			position: relative;
        }
        .is-pc .game-tile img {
            width: calc(120px * var(--scale)) !important;
            height: calc(138px * var(--scale)) !important;
        }
		
		.is-pc .game-tile:hover {
			border: 1px solid transparent !important;
			background-image: 
				linear-gradient(#081020, #081020),
				conic-gradient(from var(--angle), transparent 65%, #00aaff 100%);
			background-origin: padding-box, border-box;
			background-clip: padding-box, border-box;
			animation: rotate-border 2s linear infinite;
			box-shadow: 0 6px 12px rgba(0, 0, 0, 0.5) !important;
			z-index: 10;
		}

        /* =========================================
           10. BUTTONS
           ========================================= */
        #scroll-to-bottom {
            position: fixed;
            bottom: 20px;
            padding: 10px 16px;
            background: rgba(0, 0, 0, 0.5);
            color: white;
            font-weight: bold;
            border: 2px solid #888;
            border-radius: 8px;
            cursor: pointer;
            z-index: 30;
        }
		
        .is-pc #scroll-to-bottom { right: 91px; }
        .is-ps3 #scroll-to-bottom { right: 125px; }
        #scroll-to-bottom:hover { background: rgba(255, 255, 255, 0.1); }
		
		#scroll-to-top {
            position: fixed;
            bottom: 20px;
            padding: 10px 16px;
            background: rgba(0, 0, 0, 0.5);
            color: white;
            font-weight: bold;
            border: 2px solid #888;
            border-radius: 8px;
            cursor: pointer;
            z-index: 30;
        }
		
		.is-pc #scroll-to-top { left: 83px; }
        .is-ps3 #scroll-to-top { left: 112px; }
        #scroll-to-top:hover { background: rgba(255, 255, 255, 0.1); }

        #player_9428, #player_9428 object, #player_9428 embed, #pc-audio-player-invisible {
            position: absolute !important; left: -9999px !important; top: -9999px !important; width: 1px !important; height: 1px !important; opacity: 0 !important; pointer-events: none !important; visibility: hidden !important;
        }

        #welcome-overlay-pc {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0, 0, 0, 0.9);
            color: white; z-index: 9999; display: none; justify-content: center; align-items: center; text-align: center;
        }
        body.is-pc #welcome-overlay-pc { display: flex; }
		
		#welcome-overlay-pc .dialog-box {
			background: rgba(0, 0, 0, 0.9);
			padding: 30px;
			border: 2px solid #66ccff;
			border-radius: 10px;
			max-width: 500px;
			box-shadow: 0 0 20px rgba(102, 204, 255, 0.5); 
		}
		
		#welcome-overlay-pc .dialog-box h2 { color: #66ccff; margin-top: 0; }
        #welcome-overlay-pc .dialog-box p { white-space: pre-wrap; margin-bottom: 20px; }
        #overlay-continue-btn { background: #007bff; color: white; border: none; padding: 10px 20px; font-size: 1.2em; cursor: pointer; border-radius: 5px; }
		
		.dlc-btn {
			background: #8A2BE2;
			color: #fff !important;
			padding: 2px 6px;
			margin-left: 5px;
			border-radius: 4px;
			font-size: 1.0em;
			display: inline-block;
			white-space: nowrap;
			border: 1px solid #4B0082;
			text-decoration: none;
			cursor: pointer;
		}
		.dlc-btn:hover {
			background: #9932CC;
			text-decoration: underline !important;
		}
		
		.avatar-btn {
			background: #008B8B; /* DarkCyan */
			color: #fff !important;
			padding: 2px 6px;
			margin-left: 5px !important;
			border-radius: 4px;
			font-size: 1.0em;
			display: inline-block;
			white-space: nowrap;
			border: 1px solid #005F5F;
			text-decoration: none;
			cursor: pointer;
		}
		.avatar-btn:hover {
			background: #20B2AA; /* LightSeaGreen */
			text-decoration: underline !important;
		}
		
        /* =========================================
           11. MOBILE FIXES
           ========================================= */
        .is-pc ul#list:not(.grid) {
			margin-left: 20px !important;
			margin-right: 20px !important;
			white-space: normal !important;
			word-wrap: break-word;
		}
		
		.is-pc ul#list:not(.grid) .pkg-btn,
		.is-pc ul#list:not(.grid) .dlc-btn,
		.is-pc ul#list:not(.grid) .avatar-btn,
		.is-pc ul#list:not(.grid) .rap-btn {
			font-size: 16px !important;
			padding: 2px 6px !important;
			display: inline-block !important;
			margin-top: 0px !important;
			margin-left: 5px !important;
		}
		/* =========================================
		13. LOAD MORE (PC)
		========================================= */
		.load-more-btn {
			display: none;
			width: 29%;
			margin: 5px auto;
			padding: 5px;
			margin-top: 10px;
			background: rgba(0, 0, 0, 0.5);
            border: 2px solid #888;
			color: #fff;
			font-size: 1.05em;
			font-weight: bold;
			border-radius: 8px;
			cursor: pointer;
			transition: background 0.3s, transform 0.2s;
		}
		
		.load-more-btn:hover {
			background: #0056b3;
			transform: scale(1.02);
		}
		
		 /* =========================================
           13. BLUR EFFECT (PC Only)
           ========================================= */
		.is-pc header,
		.is-pc .sidebar,
		.is-pc .sidebar-right,
		.is-pc .game-tile,
		.is-pc ul#list:not(.grid),
		.is-pc #scroll-to-top,    
		.is-pc #scroll-to-bottom,
		.is-pc ul#list li:only-child,
		.is-pc .load-more-btn
		{
			backdrop-filter: blur(5px) saturate(100%) !important;
			-webkit-backdrop-filter: blur(5px) saturate(100%) !important;
			box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.3) !important;
		}
		
		.is-pc ul#list:not(.grid) {
		backdrop-filter: none !important;
		}
	
		.is-pc ul#list:not(.grid) li {
		backdrop-filter: blur(5px) !important;
		-webkit-backdrop-filter: blur(5px) !important;
		margin-right: -19px !important;
		margin-left: -19px !important;  
		}
		
		/* =========================================
         14. MEDIA QUERY (Mobile)
         ========================================= */
      @media screen and (max-width: 1100px) {

		  .is-pc ul#list.grid {
              padding-left: 5px !important;
              padding-right: 5px !important;
              box-sizing: border-box !important;
              width: 100% !important;
          }
		  
         .is-pc ul#list:not(.grid) {
             font-size: 16px !important; 
          }
          
          .is-pc ul#list:not(.grid) li {
              font-size: 16px !important;
              padding: 10px 5px !important;
              line-height: 1.4em !important;
              -webkit-text-size-adjust: none !important;
              text-size-adjust: none !important;
              max-height: 999999px; 
              display: block !important; 
          }
          
          .is-pc ul#list:not(.grid) li a[href$=".pkg"],
          .is-pc ul#list:not(.grid) li a[download] {
              font-size: 16px !important;
              padding: 2px 6px !important;
              display: inline-block !important;
              margin-left: 5px !important;
          }
		  
			.is-pc .game-tile .pkg-btn,
			.is-pc .game-tile .dlc-btn,
			.is-pc .game-tile .avatar-btn,
			.is-pc .game-tile .rap-btn {
				font-size: 10px !important;
				padding: 2px 6px !important;
				margin-top: 0px !important;
				display: inline-block !important;
				line-height: normal !important;
			}

			.is-pc .waves svg {
			display: block;
			width: 100% !important;
			height: 10% !important;
			margin-top: -24px;
		}
      }

		/* =========================================
		15. WAVE ANIMATION
		========================================= */
		.waves {
			position: fixed;
			width: 100%;
			height: 100px;
			bottom: 0;
			left: 0;
			z-index: 0;
			pointer-events: none;
		}
		
		.waves svg {
			display: block;
			width: 100%;
			height: 20%;
			margin-top: -24px;
		}
		
		.parallax use {
			animation: move-wave 25s cubic-bezier(.55, .5, .45, .5) infinite;
		}
		.parallax use:nth-child(1) { animation-delay: -2s; animation-duration: 7s; }
		.parallax use:nth-child(2) { animation-delay: -3s; animation-duration: 10s; }
		.parallax use:nth-child(3) { animation-delay: -4s; animation-duration: 13s; }
		.parallax use:nth-child(4) { animation-delay: -5s; animation-duration: 20s; }
		
		@keyframes move-wave {
			0% { transform: translate3d(-90px, 0, 0); }
			100% { transform: translate3d(85px, 0, 0); }
		}
		
		body.is-ps3 .waves {
			display: none !important;
			animation: none !important;
		}
		
		/* =========================================
		16. GLOBAL ZOOM - PC Only (88%)
		========================================= */
		body.is-pc {
			transform: scale(0.88); 
			transform-origin: top left;
			
			width: 113.65%;  
			height: 113.65%;
			
			box-sizing: border-box;
			overflow: hidden;
			position: absolute;
			top: 0;
			left: 0;
		}
		
		.is-pc .content {
			height: calc(113.65vh - 310px) !important;
		}
		
		.is-pc #scroll-to-bottom { right: 100px; }
		.is-pc #scroll-to-top { left: 95px; }
		
		/* =========================================
		17. RIPPLE EFFECT
		========================================= */
		
		.ripple {
			position: absolute;
			border-radius: 50%;
			transform: scale(0);
			background: rgba(255, 255, 255, 0.4);
			pointer-events: none; 
			z-index: 99999;
			opacity: 1;
			
			animation: ripple-animation 0.7s ease-out;
		}
		
		@keyframes ripple-animation {
			to {
				transform: scale(5);
				opacity: 0; 
			}
		}
		/* =========================================
		18. MODAL / LIGHTBOX
		========================================= */
		.modal-overlay {
			display: none;
			position: fixed;
			top: 0;
			left: 0;
			width: 100%;
			height: 100%;
			background: rgba(0, 0, 0, 0.9);
			z-index: 10000;
			justify-content: center;
			align-items: center;
		}
		
		.modal-content {
			background: rgba(0, 0, 0, 0.9);
			border: 2px solid #66ccff;
			border-radius: 10px;
			padding: 20px;
			width: 650px;
			height: auto;
			min-height: 230px;
			box-sizing: border-box;
			position: relative;
			box-shadow: 0 0 20px rgba(102, 204, 255, 0.5);
			display: flex;
			gap: 20px;
			align-items: flex-start;
		}
		
		.modal-close {
			position: absolute;
			top: 15px;
			right: 15px;
			width: 30px;
			height: 30px;
			background: #cc0000;
			color: #fff;
			border: 1px solid #ff4444;
			font-weight: bold;
			font-size: 16px;
			cursor: pointer;
			border-radius: 4px;
			z-index: 5;
		}
		
		.modal-close:hover {
			background: #ff0000;
			border-color: #fff;
		}
		
		#modal-image-container {
			width: 157px;
			flex-shrink: 0;
			text-align: center;
		}
		
		#modal-image {
			width: 157px;
			height: 180px;
		}
		
		.modal-details {
			flex-grow: 1;
			display: flex;
			flex-direction: column;
			overflow: hidden;
			text-align: center;
			align-items: center;
			justify-content: center;
		}
		
		.modal-details h2 {
			color: #fff;
			margin-top: 0;
			margin-bottom: 10px;
			font-size: 22px;
			white-space: normal;
			word-wrap: break-word;
			line-height: 1.3;
			width: 100%;
			padding-left: 35px;
			padding-right: 35px;
			box-sizing: border-box;
		}
		
		#modal-links {
			display: flex;
			justify-content: center;
			flex-wrap: wrap;
			width: 100%;
			gap: 10px;
			margin-top: 10px;
		}
		
		#modal-type {
			color: #66ccff;
			font-weight: bold;
			margin: 2px 0 10px 0;
			font-size: 14px;
		}
		
		#modal-id {
			color: #ffff00;
			font-weight: bold;
			margin: 2px 0;
			font-size: 14px;
		}
		
		#modal-size {
			color: #aaa;
			margin: 2px 0 15px 0;
			font-size: 14px;
		}
		
		body.is-ps3 .modal-overlay {
			position: absolute;
			display: none;
			z-index: 99999;
			text-align: left;
		}
		
		body.is-ps3 .modal-content {
			display: block !important;
			position: absolute !important;
			left: 50% !important;
			margin-left: -325px !important;
			top: 45% !important;
			height: auto !important;
			min-height: 0 !important;
		}
		
		body.is-ps3 #modal-image-container {
			float: left !important;
			margin-right: 20px !important;
			margin-bottom: 0px !important;
		}
		
		body.is-ps3 .modal-details {
			display: block !important;
			float: left !important;
			width: 390px !important;
			text-align: center !important;
		}
		
		body.is-ps3 .modal-details h2 {
			width: 100% !important;
			margin: 5px 0 10px 0 !important;
			padding: 0 !important;
			text-align: center !important;
		}
		
		/* =========================================
		UNOFFICIAL MODE
		========================================= */
		body.unofficial-mode {
			background: url("https://raw.githubusercontent.com/PS3-Pro/PSN-Content/master/resources/background/unofficial.png") no-repeat center center;
			background-size: cover;
		}
		
		body.is-ps3.unofficial-mode {
			background-size: 100% 100%;
		}
	
		 body.is-pc.unofficial-mode .sidebar-top-border {
            position: fixed;
            top: 0px;
            bottom: 0;
            width: 90px;
            height: 2px;
            background: rgba(43, 0, 0, 1) !important;
            margin-top: 0px;
            z-index: 32;
			left: -5px;
			margin-left: -7px;
        }

        body.is-ps3.unofficial-mode .sidebar-top-border {
			position: fixed;
            top: 272px;
            bottom: 0;
            width: 90px;
            height: 2px;
            background: rgba(41, 0, 0, 1) !important;
            margin-top: -2px;
            z-index: 32;
			left: 5px;
			margin-left: -7px;
		}

        body.is-pc.unofficial-mode .sidebar-right-top-border {
            position: fixed;
            top: 1px;
            width: 90px;
            height: 2px;
            background: rgba(0, 0, 0, 0) !important;
            margin-top: -2px;
            z-index: 32;
			right: -5px;
			margin-right: -7px;
        }
		
		body.is-ps3.unofficial-mode .sidebar-right-top-border {
            position: fixed;
            top: 272px;
            width: 90px;
            height: 2px;
            background: rgba(41, 0, 0, 0.7) !important;
            margin-top: -2px;
            z-index: 32;
			right: 5px;
			margin-right: -7px;
        }
		
		body.unofficial-mode header a:hover { color: #ff0000 !important; }
        
        body.unofficial-mode header .toggle-btn:hover,
        body.unofficial-mode #zoom-container:hover,
        body.unofficial-mode input[type="submit"]:hover,
        body.unofficial-mode input[type="button"]:hover,
        body.unofficial-mode button:hover {
            border-color: #ff0000 !important;
        }
		
		body.unofficial-mode input[type="checkbox"] {
			accent-color: #ff0000 !important;
		}

		body.unofficial-mode input[type=range] {
			accent-color: #ff0000 !important;
		}
		
		body.unofficial-mode #selection-menu { 
			display: none !important; 
		}
		
		body.unofficial-mode #selection-menu-unofficial { 
			display: block !important; 
		}
		
		body.is-ps3.unofficial-mode .game-tile:hover {
			border-color: #ff0000 !important;
			background: rgba(26, 0, 0, 1);
            border-color: #66ccff;
        }

        body.unofficial-mode .modal-content {
			border-color: #ff0000 !important;
			box-shadow: 0 0 20px rgba(255, 0, 0, 0.5) !important;
		}
		
		body.is-ps3 .modal-content {
			box-shadow: none !important;
			border-radius: 0 !important;
		}

        body.unofficial-mode #modal-type {
            color: #ff4444 !important;
        }

        body.unofficial-mode #selection-menu-unofficial a:hover,
        body.unofficial-mode #selection-menu-unofficial a.active,
        body.unofficial-mode #region-links a.active,
        body.unofficial-mode #letters a.active {
            color: #ff0000 !important;
            text-decoration: underline;
        }

        body.unofficial-mode .waves .parallax use:nth-child(1) { fill: rgba(100, 0, 0, 0.7) !important; }
        body.unofficial-mode .waves .parallax use:nth-child(2) { fill: rgba(100, 0, 0, 0.5) !important; }
        body.unofficial-mode .waves .parallax use:nth-child(3) { fill: rgba(100, 0, 0, 0.3) !important; }
        body.unofficial-mode .waves .parallax use:nth-child(4) { fill: #660000 !important; }

        body.is-pc.unofficial-mode .game-tile:hover {
            border: 1px solid transparent !important;
            background-image: 
                linear-gradient(#1a0000, #1a0000), 
                conic-gradient(from var(--angle), transparent 65%, #ff0000 100%);
            background-origin: padding-box, border-box;
            background-clip: padding-box, border-box;
            animation: rotate-border 2s linear infinite;
            z-index: 10;
        }

		body.unofficial-mode .pkg-btn {
			background: #cc0000 !important;
			border-color: #ff0000 !important;
			color: #fff !important;
			transition: background-color 0.2s, border-color 0.2s;
		}
		
		body.unofficial-mode ::-webkit-scrollbar-thumb {
            background-color: #ff0000 !important;
            border: 1px solid #660000 !important;
        }
		
		body.unofficial-mode ul#list:not(.grid) li:hover {
			background: rgba(255, 0, 0, 0.15) !important;
			border-color: #ff0000 !important;
		}
		
		body.is-pc.unofficial-mode ul#list:not(.grid) li:hover::before {
			content: "";
			position: absolute;
			inset: 0;
			border-radius: 4px;
			background-image: linear-gradient(
				120deg, 
				transparent 30%, 
				rgba(255, 0, 0, 0.25) 50%,
				transparent 70%
			);
			background-size: 200% 100%;
			background-repeat: no-repeat;
			animation: shine-move 2s infinite linear;
			z-index: -1; 
			pointer-events: none;
		}
		
		body.is-pc.unofficial-mode input[name="query"] {
			background:
				linear-gradient(#fff, #fff) padding-box, 
				conic-gradient(from var(--angle), #aaa 75%, #ff0000 100%) border-box !important;
		}

		body.is-pc.unofficial-mode input[name="query"]:focus,
		body.is-pc.unofficial-mode input[name="query"]:not(:placeholder-shown) {
			background: 
				linear-gradient(#222, #222) padding-box,
				conic-gradient(from var(--angle), transparent 50%, #ffffff 100%) border-box !important;
			color: #fff !important;
		}

		body.is-ps3.unofficial-mode input[type="search"] {
			color: #ff0000 !important;
		}

		body[data-env="released"] #pkg-version {
			display: none;
		}
    </style>
   <body>
      <header>
		<img id="main-logo" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFoAAABaCAMAAAAPdrEwAAAAKXRFWHRDb21tZW50AE1hc3MgSW1hZ2UgQ29tcHJlc3NvciwgUXVhbGl0eTo2MGfciDoAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAJAUExURUdwTI/V9YnT95LX8YvV/YDR+gAbV4HT/33V+3TV/I3V84/Z947Y+AIlN4vU9JDa9pTW7o3Y9o/W943X9o3Z+QEbNwAcNgAaNwAZMY7X9Y3Z9wAYMYzY94zX9o3Y9y2Yy4/X9o7Z94/Y9zOXyo7Z+CuPw+94UyGQx47Y9xmIwduhIyWTxyGMwh5uqHu53MmILvO4FyB6sxlgnRCBvC+GtEGk0g9OkeZyTqXSz0Oj0R+Gvrq6i/LHFd2qMtGkPyuVyriCRSaXzNShk/CFZhNWlyOHveWTfAqJxO1tRgiKxY/W9ea+QC2d0Lale4rT8n693Y3T8+WVfeaQeOnELbK3leOfiqScbUqj0tm0U+bHN+pqQ0yu2Rhkou/XUNzIZqK+tra2oBZop+N6Wl2u1M6VN93MWhNhobmMV2a23RVioOd1UarGz8ibSFOt2m7C5Q9PkcvSdvPZIupqRD6UxnK33Qyn2/DXef///wCIxhuYzwWQzAKNyguSzBKWzQ+UzR+azwKLyCie0f7UBVyu2WKx27xyMEGm1vy7EVCr2Wez3Tuk1Var2BeXzgyOyCWb0NKTKv7OCDWi1BSRyS+g0v/cBfzJCnO74f3CDUyp2DSbzkWo12223/z+/xyTye/3/CeVyf/hG6vX7f/iK//nTv7lPf/uhff7/v7pZIjH5ejz+sF8MP7sdQ93qDuczdbp83zB497v+L7g8crl8//xk5LN6pvQ6emvHnios2KKikePscTBvMzP0Ix8WUR+jpDJ5UdwTN7JD7wAAADAdFJOUwAiDRQLCAEBBQIaQCsHHjkXRyYwVyEwOA5PNBcQcF/+imeAJXgW+DaVyf5XZ/f2/v37/KX4mfx/pHiK4/39/L34RDLmmv2X4eL0uf7nhtXspk7A/bN++uX44ve8Wvz751zcp/Pcw8TqYTrPZa3Lzeeo8sD299X9/////////////////////////////////////////////////////////////////////////////////////v//////////ACoYmlAA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" width="90" height="90" style="display:block; margin: 0px auto; border-radius: 10px;">
         <span id="header-text" style="font-size: 24px; color: #ffffff;">PlayStation&trade; Network Database</span>
		 <div id="count" aria-live="polite" role="status">Loading</div>
         <form name="engine" onsubmit="setFilter('search', this.query.value, null); return false;">
			<div id="search-group">
				<input type="search" name="query" size="25" placeholder="Search" 
					oninput="onSearchInput(this)" 
					onkeydown="return checkEnter(event, this)">
				<input type="button" name="fetch" value="Reload Database" onclick="triggerReload()">
				<input type="button" name="send" value="Search" onclick="forceSearch(this.form.query)">
			</div>
			<div id="controls-group">
				<input type="button" id="license-link-rainbow" value="License Pack" onclick="window.location.href='https://github.com/PS3-Pro/License-Files/releases/download/Licenses/License_Pack_Bin.pkg'">
				<input type="button" id="pkg-version" value="Installable Version" onclick="window.location.href='https://github.com/PS3-Pro/PSN-Content/releases/download/Release/PlayStation_Network_Database.pkg'">
				<div id="audio-switch" class="toggle-btn"><label><input type="checkbox" id="audio-toggle" checked>  Audio</label></div>
				<div id="cover-toggle" class="toggle-btn"><label><input type="checkbox" id="cover-gui">  Covers</label></div>
				<div id="zoom-container" title="Adjust Grid Density">
					<span style="font-size: 14px;">Size: </span>
					<input type="range" id="zoom-slider" min="0.7" max="1.3" step="0.1" value="1.0" oninput="updateGridScale(this.value)">
				</div>
				<div id="mode-switch" class="toggle-btn" onclick="toggleAppMode()" title="Switch Mode">
					<span id="mode-text" style="font-size:14px; font-weight:bold;">&#8646; Switch to Homebrew&trade; Mode</span> 
				</div>
			</div>
         </form>
      </header>
	  
		<div id="welcome-overlay-pc">
			<div class="dialog-box">
				<h2>PlayStation™ Network Database</h2>
				<p>Your browser may block the download of files.
To bypass this restriction, right-click the PKG button, choose 'Save link as', and authorize the download.
				</p>
				<button id="overlay-continue-btn">
					Continue
				</button>
			</div>
		</div>
      
		<div id="selection-menu" class="menu-official" aria-hidden="false">
			<a href="#" id="ln-apps">Apps</a>
			<a href="#" id="ln-avatar">Avatars</a>
			<a href="#" id="ln-demos">Demos</a>
			<a href="#" id="ln-dlcs">DLCs</a>
			<a href="#" id="ln-game">Games</a>
			<a href="#" id="ln-prototypes">Prototypes</a>
			<a href="#" id="ln-themes">Themes</a>
		</div>
		
		<div id="selection-menu-unofficial" class="menu-unofficial" style="display:none;">
			<a href="#" id="ln-backup_managers">Backup Managers</a>
			<a href="#" id="ln-emulators">Emulators</a>
			<a href="#" id="ln-homebrew_games">Games</a>
			<a href="#" id="ln-launchers">Launchers</a>
			<a href="#" id="ln-legacy">Legacy</a>
			<a href="#" id="ln-homebrews_apps">No-PSN Apps</a>
			<a href="#" id="ln-ports">Ports</a>
			<a href="#" id="ln-tools">Tools</a>
		</div>
		
		<div id="game-modal" class="modal-overlay">
			<div class="modal-content">
				<button class="modal-close" onclick="closeModal()">X</button>
				<div id="modal-image-container">
					<img id="modal-image" src="" alt="Game Cover">
				</div>
				<div class="modal-details">
					<h2 id="modal-title"></h2>
					<p id="modal-id"></p>
					<p id="modal-type"></p> 
					
					<p id="modal-size"></p>
					<div id="modal-links"></div>
				</div>
			</div>
		</div>
		
		<div id="main">
			<div class="sidebar" id="sidebar">
				<div class="sidebar-top-border"></div>      
				<div class="sidebar-heading-left">Filter</div>
				<ul id="letters"></ul>
			</div>
			
			<div class="content">
				<ul id="list"></ul>
				<button id="btn-load-more" class="load-more-btn" onclick="loadMoreItems()" style="display:none;"></button>
				<div id="bottom-spacer"></div>
			</div>
         
         <div class="sidebar-right" id="sidebar-right">
			<div class="sidebar-right-top-border"></div>
			<div class="sidebar-heading-right">Region</div>
			<br>
			<ul id="region-links">
			<li><a href="#" class="active" onclick="setFilter('region', 'ALL', this); return false;">All</a></li>
			<li><a href="#" onclick="setFilter('region', 'US', this); return false;">US</a></li>
			<li><a href="#" onclick="setFilter('region', 'EU', this); return false;">EU</a></li>
			<li><a href="#" onclick="setFilter('region', 'JP', this); return false;">JP</a></li>
			<li><a href="#" onclick="setFilter('region', 'ASIA', this); return false;">ASIA</a></li>
			</ul>
			
			<div id="apps-filter-container" style="display:none;">
				<div class="sidebar-heading-right" style="margin-top: 50px; margin-bottom: 10px;">Type</div>
				<ul id="apps-links">
					<li><label><input type="checkbox" id="filter-firstplay" onclick="setAppsFilter();">1stPlay</label></li>
					<li><label><input type="checkbox" id="filter-media" checked onclick="setAppsFilter();">Media</label></li>
					<li><label><input type="checkbox" id="filter-qore" onclick="setAppsFilter();">Qore</label></li>
				</ul>
			</div>
		
			<div id="console-filter-container">
				<div class="sidebar-heading-right" style="margin-top: 50px; margin-bottom: 10px;">Type</div>
				<ul id="console-links">
					<li><label><input type="checkbox" id="filter-ps3" checked onclick="setConsoleFilter();">PS3™</label></li>
					<li><label><input type="checkbox" id="filter-ps2" checked onclick="setConsoleFilter();">PS2™</label></li>
					<li><label><input type="checkbox" id="filter-psx" checked onclick="setConsoleFilter();">PSX™</label></li>
					<li><label><input type="checkbox" id="filter-psp" checked onclick="setConsoleFilter();">PSP™</label></li>
					<li><label><input type="checkbox" id="filter-minis" checked onclick="setConsoleFilter();">Minis</label></li>
					<li><label><input type="checkbox" id="filter-pce" checked onclick="setConsoleFilter();">PCe</label></li>
					<li><label><input type="checkbox" id="filter-neogeo" checked onclick="setConsoleFilter();">NGeo</label></li>
				</ul>
			</div>
			
			
         </div>
			<button id="scroll-to-bottom" onclick="scrollToBottom()">&#8595;</button>
			<button id="scroll-to-top" onclick="scrollToTop()">&#8593;</button>
		
			<div class="waves" id="waves">
				<svg class="waves" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
					viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto">
					<defs>
					<path id="gentle-wave" d="M-160 44c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 18 v44h-352z" />
					</defs>
					<g class="parallax">
					<use xlink:href="#gentle-wave" x="48" y="0" fill="rgba(0,108,193,0.7)" />
					<use xlink:href="#gentle-wave" x="48" y="3" fill="rgba(0,108,193,0.5)" />
					<use xlink:href="#gentle-wave" x="48" y="5" fill="rgba(0,108,193,0.3)" />
					<use xlink:href="#gentle-wave" x="48" y="7" fill="#006cc1" />
					</g>
				</svg>
			</div>
			
		</div>
		
		<div id="pc-audio-player-invisible" align="center">
			<audio id="invisible-audio" loop>
				<source src="https://github.com/PS3-Pro/Whats-New/raw/main/media/ads/hall_of_fame.mp3" type="audio/mpeg">
			</audio>
		</div>

		<div id="player_9428" align="center"></div>
		
	<script>
	// ==============================================================
	// 1. GENERAL SETTINGS
	// ==============================================================
	var g_startupAlertMessage = null;
	var g_defaultLetterFilter = "";
	var g_letterFilter = "";
	var g_regionFilter = "ALL";
	var useCoverGUI = false;
	var g_preSearchState = null;
	var g_pendingScroll = null;
	var g_isSearchActive = false;
	
	var g_consoleFilter = {
		ps3: true,
		ps2: true,
		psx: true,
		psp: true,
		minis: true,
		pce: true,
		neogeo: true
	};
	
	var g_appFilter = { 
		firstplay: false,
		media: true,
		qore: false
	};
	
	var g_lazyLoadPC = true; // true = Economic / false = Turbo
	
	var g_chunkSize = 200;
	var g_currentChunkIndex = 0;
	var g_pcRenderLimit = 1000;
	var g_pcPageSize = 1000;
	
	var f = document.forms.engine;
	var dbPath = "https://raw.githubusercontent.com/PS3-Pro/PSN-Content/master/resources/database/games.tsv";
	var URL_DB_DLC = "https://raw.githubusercontent.com/PS3-Pro/PSN-Content/master/resources/database/official/dlcs.tsv";
	var URL_DB_AVATAR = "https://raw.githubusercontent.com/PS3-Pro/PSN-Content/master/resources/database/official/avatars.tsv";
	var g_renderTimer = null;
	var g_renderID = 0;
	var DB = [];
	
	var isPS3 = /PS3|PlayStation 3|NetFront/i.test(navigator.userAgent) || window.location.search.indexOf("mode=ps3") > -1;
	
	var isReleased = window.location.search.indexOf("released") > -1;
	
	if (isReleased) {
		var pkgBtn = document.getElementById('pkg-version');
		if (pkgBtn) {
	pkgBtn.style.display = 'none';
		}
	}

	var g_allMatches = [];
	
	var STORAGE_KEY_COVERS = "psn_db_covers_state";
	var STORAGE_KEY_AUDIO = "psn_db_audio_state";
	
	var CACHE_VERSION = "v1.0";
	var CACHE_TIME = 1000 * 60 * 60 * 24; 
	var currentCategory = "games";
	
	var isUnofficialMode = false;

	var defaultCoverOfficial = isPS3 ? "https://raw.githubusercontent.com/PS3-Pro/PSN-Content/master/resources/covers/compressed/NOCOVER01.JPG" : "https://raw.githubusercontent.com/PS3-Pro/PSN-Content/master/resources/covers/uncompressed/NOCOVER01.JPG";
    
	var defaultCover = defaultCoverOfficial;

	// ==============================================================
    // 2. KEY
    // ==============================================================
    
    var tmdb_hmac_key_array = [
        0xF5, 0xDE, 0x66, 0xD2, 0x68, 0x0E, 0x25, 0x5B, 0x2D, 0xF7, 0x9E, 0x74, 0xF8, 0x90, 0xEB, 0xF3,
        0x49, 0x26, 0x2F, 0x61, 0x8B, 0xCA, 0xE2, 0xA9, 0xAC, 0xCD, 0xEE, 0x51, 0x56, 0xCE, 0x8D, 0xF2,
        0xCD, 0xF2, 0xD4, 0x8C, 0x71, 0x17, 0x3C, 0xDC, 0x25, 0x94, 0x46, 0x5B, 0x87, 0x40, 0x5D, 0x19,
        0x7C, 0xF1, 0xAE, 0xD3, 0xB7, 0xE9, 0x67, 0x1E, 0xEB, 0x56, 0xCA, 0x67, 0x53, 0xC2, 0xE6, 0xB0
    ];
    
    var tmdb_hmac_key_str = "";
    for(var k=0; k<tmdb_hmac_key_array.length; k++) {
        tmdb_hmac_key_str += String.fromCharCode(tmdb_hmac_key_array[k]);
    }

    function rol(num, cnt) { return (num << cnt) | (num >>> (32 - cnt)); }
    function safe_add(x, y) {
        var lsw = (x & 0xFFFF) + (y & 0xFFFF);
        var msw = (x >> 16) + (y >> 16) + (lsw >> 16);
        return (msw << 16) | (lsw & 0xFFFF);
    }
	
    function sha1_ft(t, b, c, d) {
        if (t < 20) return (b & c) | ((~b) & d);
        if (t < 40) return b ^ c ^ d;
        if (t < 60) return (b & c) | (b & d) | (c & d);
        return b ^ c ^ d;
    }
	
    function sha1_kt(t) {
        return (t < 20) ? 1518500249 : (t < 40) ? 1859775393 : (t < 60) ? -1894007588 : -899497514;
    }
	
    function core_sha1(x, len) {
        x[len >> 5] |= 0x80 << (24 - len % 32);
        x[((len + 64) >>> 9 << 4) + 15] = len;
        var w = new Array(80);
        var a = 1732584193, b = -271733879, c = -1732584194, d = 271733878, e = -1009589776;
        for (var i = 0; i < x.length; i += 16) {
            var olda = a, oldb = b, oldc = c, oldd = d, olde = e;
            for (var j = 0; j < 80; j++) {
                if (j < 16) w[j] = x[i + j];
                else w[j] = rol(w[j - 3] ^ w[j - 8] ^ w[j - 14] ^ w[j - 16], 1);
                var t = safe_add(safe_add(rol(a, 5), sha1_ft(j, b, c, d)), safe_add(safe_add(e, w[j]), sha1_kt(j)));
                e = d; d = c; c = rol(b, 30); b = a; a = t;
            }
            a = safe_add(a, olda); b = safe_add(b, oldb); c = safe_add(c, oldc); d = safe_add(d, oldd); e = safe_add(e, olde);
        }
        return [a, b, c, d, e];
    }
	
    function str2binb(str) {
        var bin = [];
        var mask = (1 << 8) - 1;
        for(var i = 0; i < str.length * 8; i += 8) {
            var idx = i >> 5;
            if(bin[idx] === undefined) bin[idx] = 0;
            bin[idx] |= (str.charCodeAt(i / 8) & mask) << (24 - i%32);
        }
        return bin;
    }
	
    function binb2str(bin) {
        var str = "";
        var mask = (1 << 8) - 1;
        for(var i = 0; i < bin.length * 32; i += 8) {
            str += String.fromCharCode((bin[i>>5] >>> (24 - i%32)) & mask);
        }
        return str;
    }
	
    function bin_sha1(str) { return binb2str(core_sha1(str2binb(str), str.length * 8)); }
    function bin_hmac_sha1(key, data) {
        var b = 64;
        if (key.length > b) key = bin_sha1(key);
        var keyPad = key;
        while(keyPad.length < b) { keyPad += String.fromCharCode(0); }
        var i_pad = "", o_pad = "";
        for (var i = 0; i < b; i++) {
            i_pad += String.fromCharCode(keyPad.charCodeAt(i) ^ 0x36);
            o_pad += String.fromCharCode(keyPad.charCodeAt(i) ^ 0x5C);
        }
        return bin_sha1(o_pad + bin_sha1(i_pad + data));
    }
	
    function toHex(num) { return ('00000000' + (num >>> 0).toString(16)).slice(-8).toUpperCase(); }

    var g_sonyHashCache = {};

    function generateSonyHash(title_id) {
        if (g_sonyHashCache[title_id]) {
            return g_sonyHashCache[title_id];
        }

        var base = title_id.substring(0,9) + "_00";
        var msg = base.substring(0,12);
        var h = bin_hmac_sha1(tmdb_hmac_key_str, msg);
        var hashBytes = [];
        for (var i = 0; i < 20; i++) hashBytes[i] = h.charCodeAt(i);
        
        var p1a = (hashBytes[0]<<24)|(hashBytes[1]<<16)|(hashBytes[2]<<8)|hashBytes[3];
        var p1b = (hashBytes[4]<<24)|(hashBytes[5]<<16)|(hashBytes[6]<<8)|hashBytes[7];
        var p2a = (hashBytes[8]<<24)|(hashBytes[9]<<16)|(hashBytes[10]<<8)|hashBytes[11];
        var p2b = (hashBytes[12]<<24)|(hashBytes[13]<<16)|(hashBytes[14]<<8)|hashBytes[15];
        var p3  = (hashBytes[16]<<24)|(hashBytes[17]<<16)|(hashBytes[18]<<8)|hashBytes[19];
        
        var result = base + "_" + toHex(p1a) + toHex(p1b) + toHex(p2a) + toHex(p2b) + toHex(p3);
        
        g_sonyHashCache[title_id] = result;
        return result;
    }
    
		// ==============================================================
		// REGEX (PRE-COMPILED)
		// ==============================================================
		
		var RX_TRIM = /^\s+|\s+$/g;
		var RX_FULL_GAME = /\bFull\s+(Game|Version)\b/gi;
		var RX_DEMO_CHK = /\b(demo|trial|beta)\b/i;
		var RX_APPS_FILTER = /^(NPJB00809|NPUP31376|BLET70024|NPEA00013|NPEA00135|NPEA00140|NPEA00153|NPEA00258|NPEA00476|NPEB00111|NPEB00190|NPEB00195|NPEB00197|NPEB00198|NPEB00199|NPEB00208|NPEB00209|NPEB00210|NPEB00211|NPEB00212|NPEB00234|NPEB00235|NPEB00236|NPEB00237|NPEB00271|NPEB00272|NPEB00273|NPEB00274|NPEB00275|NPEB00276|NPEB00277|NPEB00278|NPEB00279|NPEB00280|NPEB00281|NPEB00294|NPEB00295|NPEB00296|NPEB00297|NPEB00298|NPEB00320|NPEB00321|NPEB00322|NPEB00323|NPEB00324|NPEB00325|NPEB00344|NPEB00420|NPEB00421|NPEB00422|NPEB00423|NPEB00424|NPEB00425|NPEB00426|NPEB00427|NPEB00428|NPEB00429|NPEB00430|NPEB00431|NPEB00432|NPEB00433|NPEB00468|NPEB00490|NPEB00491|NPEB00492|NPEB00493|NPEB00494|NPEB00495|NPEB00496|NPEB00497|NPEB00498|NPEB00499|NPEB00580|NPEB00581|NPEB00582|NPEB00583|NPEB00683|NPEB00703|NPEB00861|NPEB00863|NPEB00873|NPEB00874|NPEB01000|NPEB01192|NPEB01227|NPEB01229|NPEB01271|NPEB01355|NPEB01392|NPEB01397|NPEB01398|NPEB01429|NPEB01430|NPEB01813|NPEB01831|NPEB01848|NPEB01864|NPEB01906|NPEB01919|NPEB01920|NPEB01925|NPEB01941|NPEB01956|NPEB01971|NPEB01973|NPEB01974|NPEB01987|NPEB01990|NPEB02003|NPEB02055|NPEB02080|NPEB02089|NPEB02135|NPEB02136|NPEB02137|NPEB02149|NPEB02153|NPEB02156|NPEB02166|NPEB02205|NPEB02212|NPEB02214|NPEB02222|NPEB02241|NPEB02263|NPEB02292|NPEB02296|NPEB02307|NPEB02310|NPEB02338|NPEB02339|NPEB02344|NPEB02345|NPEB02350|NPEB02357|NPEB02359|NPEB02362|NPEB02387|NPEB02391|NPEB02410|NPEB02412|NPEB02418|NPEB02455|NPEB02463|NPHA80031|NPHA80073|NPHA80124|NPHA80200|NPHA80252|NPHB00509|NPHB00718|NPHB00730|NPIA00005|NPIA00016|NPIA00025|NPIA09008|NPJA00040|NPJA00072|NPJB00128|NPJB00167|NPJB00286|NPJB00290|NPJB00695|NPJB00734|NPJB00766|NPJB00773|NPJB90218|NPJB90455|NPUA70060|NPUA70069|NPUA80191|NPUB30155|NPUB30481|NPUB31187|NPUB31712|NPUO00008|NPUO00019|NPUO00025|NPUO00030|NPUO00038|NPUP00024|NPUP00028|NPUP00030|NPUP00041|NPUP00046|NPUP00047|NPUP00060|NPUP00064|NPUP00072|NPUP00074|NPUP00075|NPUP00077|NPUP10021|NPUP10027|NPUP10028|NPUP10033|NPUP10034|NPUP10036|NPUP10037|NPUP10038|NPUP10041|NPUP10042|NPUP10043|NPUP31335|NPUP31338|NPUP31340|NPUP31341|NPUP31344|NPUP31346|NPUP31347|NPUP31348|NPUP31349|NPUP31350|NPUP31351|NPUP31352|NPUP31353|NPUP31354|NPUP31358|NPUP31359|NPUP31362|NPUP31364|NPUP31369|NPUP31373|NPUP31374|NPUP31375|NPUP31377)$/;
		var RX_TITLE_ID = /Title ID/;
		var RX_JUNK_CHARS = /　|"|~|„|“|”|«|»|®|™/g;
		var RX_QUOTES = /'{2,}/g;
		var RX_REGIONS = /(\(|\[)\s*(de|fr|eu|us|jp|uk|es|it|ru|au|italian|french|german|spanish|english|japanese)\s*(\)|\])/gi;
		var RX_CLEAN_PARENS = /\(\s*\)|\[\s*\]|^[\s:,\-]+|-\s*$/g;
		var RX_DBL_SPACE = /\s{2,}/g;
		var RX_SINGLE_QUOTE = /^'+|'+$/g;
		var RX_MID_QUOTE = /'(?![s])/g;
		var RX_SPACE_DASH = /(\S)\s*-\s*(\S)/g;
		var RX_DE_FIX = /\sDe\s/g;
		var RX_DE_END = /\s+de$/i;
		var RX_VOL_FIX = /([a-zA-Z])(vol)(?=\d|\.)/gi; 
		var RX_VOL_NUM = /\bvol\.?\s*(\d+)/gi;
		var RX_VER_FIX = /\bV\s+(\d+)/g;
		var RX_VER_SPC = /\sV\s/g;
		var RX_HYPHEN_FIX = /\b(\d+)\s+-\s+In\s+-\s+(\d+)\b/gi;
		
		var RX_THEME_TERMS = /\b(din[aá]mico|dynamique|dynamisches|est[aá]tico|statique|statisches|custom\s*theme|t[eé]ma|design|designs|complete)\b/gi;
		var RX_THEME_JAP = /(カスタムテーマ|テーマ|特典)/g;
		var RX_THEME_COMMON = /\b(for\s+download|tema\s+de|thèmes|themes|theme)\b/gi;
		var RX_THEME_DYN = /\b(dynamic)\b/gi;
		var RX_THEME_STAT = /\b(static)\b/gi;
		var RX_PACK_TERMS = /\b(pack\s+de\s+temas|pack\s+de)\b/gi;
		var RX_PACK_WORD = /\bPack\b/gi;
		var RX_AVATAR_WORD = /\bAvatars?\b/gi;
		var RX_DEMO_TERMS = /\b(demo\s+de|full\s+game\s+trial|trial\s+to\s+full|demo\s+version|trial\s+ver|demo|trial|beta)\b/gi;
		
		var RX_CAPITALIZE = /(?:^|\s|[.,!?:;([{®™-])+[a-z0-9]/g;
		var RX_ROMAN = /\b(i|ii|iii|iv|ⅳ|v|vi|vii|viii|ix|x|xi|xii|xiii|xiv|xv|xvi|xvii|xviii|xix|xx)\b/gi;
		var RX_CONSOLE_TAGS = /\s*[\(\[]\s*(PS[123X]|PSP|Minis|PC\s*Engine|Turbo\s*Grafx(\s*-\s*16)?|Neo\s*Geo(\s*Station)?|PS[12]\s*Classics?)([\s\/]+(PS[123X]|PSP|Minis|PC\s*Engine|Turbo\s*Grafx(\s*-\s*16)?|Neo\s*Geo(\s*Station)?|PS[12]\s*Classics?))*\s*[\)\]]|(^\s*E\s+)?Neo\s*Geo\s*Station\s*-?/gi;
		var RX_PS_TERMS = /\b(Ps\s*3|Ps\s*2|Ps\s*1|Ps\s*x|Psp|Vita|Hbo|Hd|Htkh|Sbk|Ea|Ac|Abc|Ccapi|Dos|Cdg|Idps|Vnc|Dc|Dlc|Fifa|Ftp|Aso|Drtv|Adk|Bbc|Nhl|Nba|Nfs|Nfl|Wwe|Wwi|Wwii|Tvnz|Tv|Ssx|Sec|Pes|Pac|Tsx|Dex|Usb|Xmbpd|Psn|Nrk|Mxgp|Mx|Atx|Rc|Gp|Gta|Xrd|Prx|Vsh|Ign|Mlb|Vf|Xmb|Xs|3\s*d|4\s*k)\b/gi;
		var RX_RES_P = /\b(\d+)p\b/gi;
		var RX_CAMEL = /([a-z])([A-Z])/g;
		var RX_NUM_LOWER = /(\d)(?!(?:st|nd|rd|th|s|p|d|k)\b)([a-zA-Z])/gi;
		var RX_LOWER_NUM = /([a-zA-Z])(\d)/g;
		var RX_CHAR_NUM = /\b([a-zA-Z])\s+(\d+)/g;
		
		function cleanGameName(name, cat) {
			var romanUnicode = {
				'ⅰ': 'I', 'ⅱ': 'II', 'ⅲ': 'III', 'ⅳ': 'IV', 'ⅴ': 'V',
				'ⅵ': 'VI', 'ⅶ': 'VII', 'ⅷ': 'VIII', 'ⅸ': 'IX', 'ⅹ': 'X',
				'Ⅰ': 'I', 'Ⅱ': 'II', 'Ⅲ': 'III', 'Ⅳ': 'IV', 'Ⅴ': 'V',
				'Ⅵ': 'VI', 'Ⅶ': 'VII', 'Ⅷ': 'VIII', 'Ⅸ': 'IX', 'Ⅹ': 'X'
			};
			name = name.replace(/[ⅰ-ⅹⅠ-Ⅹ]/g, function(m) { return romanUnicode[m] || m; });
		
			name = name.replace(RX_CONSOLE_TAGS, "")
					.replace(RX_JUNK_CHARS, " ")
					.replace(RX_QUOTES, "")
					.replace(RX_REGIONS, "");
		
			if (isPS3 && cat === "dlcs") {
				name = name.toLowerCase().replace(RX_CAPITALIZE, function(m) { return m.toUpperCase(); });
				return name.replace(RX_DBL_SPACE, " ").replace(RX_TRIM, '');
			}

			name = name.replace(/Fantasy\s*(xiii|xii|xi|x|ix|viii|vii|vi|v|iv|iii|ii|i)\b/gi, function(match, rom) {
				return "Fantasy " + rom.toUpperCase();
			});
		
			name = name.replace(/Lightning Returns\s*Final/gi, "Lightning Returns: Final");
			name = name.replace(/Lightning Returns - Final/gi, "Lightning Returns: Final");
			name = name.replace(/^AC\s/i, "Assassin's Creed ");
		
			if (cat === "themes") {
				name = name.replace(/\b(din[aá]mico|dynamique|dynamisches)\b/gi, "Dynamic");
				name = name.replace(/\b(est[aá]tico|statique|statisches)\b/gi, "Static");
				name = name.replace(RX_THEME_JAP, " ");
			}
		
			name = name.replace(RX_THEME_COMMON, "");
			
			name = name.replace(RX_PACK_TERMS, "Pack");
			var testPack = name.replace(RX_PACK_WORD, "").replace(RX_TRIM, '');
			if (/[a-zA-Z]/.test(testPack)) {
				name = name.replace(RX_PACK_WORD, "");
			}
		
			if (cat === "avatars") {
				var testAvatar = name.replace(RX_AVATAR_WORD, "").replace(RX_TRIM, '');
				if (/[a-zA-Z]/.test(testAvatar)) {
					name = name.replace(RX_AVATAR_WORD, "");
				}
			}
		
			name = name.replace(RX_VOL_FIX, "$1 $2").replace(RX_VOL_NUM, "Vol.$1");
			name = name.replace(RX_SINGLE_QUOTE, "").replace(RX_MID_QUOTE, "");
		
			name = name.replace(RX_CAMEL, '$1 $2')
					.replace(RX_NUM_LOWER, '$1 $2')
					.replace(RX_LOWER_NUM, '$1 $2')
					.replace(RX_CHAR_NUM, "$1$2")
					.replace(RX_SPACE_DASH, '$1 - $2');
		
			name = name.replace(/Play\s*Station/gi, "PlayStation");
		
			name = name.toLowerCase().replace(RX_CAPITALIZE, function(m) { return m.toUpperCase(); });
		
			name = name.replace(RX_PS_TERMS, function(m) { 
				return m.toUpperCase().replace(/\s/g, '');
			});
			name = name.replace(RX_RES_P, "$1P");
		
			name = name.replace(RX_DE_FIX, " de ").replace(RX_VER_FIX, "V$1")
					.replace(RX_VER_SPC, " v ").replace(RX_VOL_NUM, "Vol.$1")
					.replace(RX_DE_END, "").replace(RX_HYPHEN_FIX, "$1-in-$2");
		
			name = name.replace(RX_ROMAN, function(m) { return m.toUpperCase(); });
		
			if (cat === "themes") {
				name = name.replace(RX_THEME_DYN, "(Dynamic)").replace(RX_THEME_STAT, "(Static)");
			}
			
			if (cat === "demos") {
				name = name.replace(RX_DEMO_TERMS, "");
			}
		
			name = name.replace(RX_CLEAN_PARENS, "").replace(RX_DBL_SPACE, " ");
		
			if (cat === "themes") {
				var tagType = "";
				if (name.indexOf("(Dynamic)") !== -1) tagType = "(Dynamic)";
				else if (name.indexOf("(Static)") !== -1) tagType = "(Static)";
		
				if (tagType !== "") {
					name = name.replace(tagType, "").replace(RX_CLEAN_PARENS, "").replace(RX_TRIM, '');
					if (name === "") name = "Unknown";
					name = name + " " + tagType;
				} else {
					if (name.replace(RX_TRIM, '') === "") name = "Unknown";
				}
			}
			
			name = name.replace(/^[\s\-\:\,]+/, "");
			name = name.replace(RX_TRIM, '');
		
			var RX_MINOR_WORDS = /\b(And|For|Of|At|In|On|Is|The|His|Hers|No|To|By|With|A|An|Or|From|Vs)\b/gi;
	
			name = name.replace(RX_MINOR_WORDS, function(match, p1, offset, fullString) {
				var textBefore = fullString.substring(0, offset);
				if (/(?:[:]|[\.]|[!]|[-]|[II])\s*$/.test(textBefore)) {
					return match.charAt(0).toUpperCase() + match.slice(1).toLowerCase();
				}
				return match.toLowerCase();
			});
		
			if (name.length > 0) {
				name = name.charAt(0).toUpperCase() + name.slice(1);
			}
			
			if (/\bFl\sOw\b/i.test(name) || /\bFlow\b/i.test(name)) {
				name = name.replace(/\bFl\sOw\b/gi, "flOw").replace(/\bFlow\b/gi, "flOw");
			}
			
			if (/\bIn\sFamous\b/i.test(name)) {
				name = name.replace(/\bIn\sFamous\b/gi, "inFamous");
			}
			
			if (/\bInfamous\b/i.test(name)) {
				name = name.replace(/\bInfamous\b/gi, "inFamous");
			}
			
			if (/\bArcani\sA\b/i.test(name)) {
				name = name.replace(/\bArcani\sA\b/gi, "Arcania");
			}
			
			if (/\b\s-\sGTA\s-\s\b/i.test(name)) {
				name = name.replace(/\b\s-\sGTA\s-\s\b/gi, ": ");
			}
			
			if (/\bGTA\b/i.test(name)) {
				name = name.replace(/\bGTA\b/gi, "Grand Theft Auto");
			}
			
			if (/\bGrand\sTheft\sAuto\s\b/i.test(name)) {
				name = name.replace(/\bGrand\sTheft\sAuto\s\b/gi, "Grand Theft Auto: ");
			}
			
			if (/\bGrand\sTheft\sAuto\s-\s\b/i.test(name)) {
				name = name.replace(/\bGrand\sTheft\sAuto\s-\s\b/gi, "Grand Theft Auto: ");
			}
			
			if (/\bGod\sof\sWar\s-\s\b/i.test(name)) {
				name = name.replace(/\bGod\sof\sWar\s-\s\b/gi, "God of War ");
			}
	
			if (/\bGod\sof\sWar\s\b/i.test(name)) {
				name = name.replace(/\bGod\sof\sWar\s\b/gi, "God of War: ");
			}
			
			if (/\bYou\sTube\b/i.test(name)) {
				name = name.replace(/\bYou\sTube\b/gi, "YouTube");
			}
			
			if (/\sfor\sPS3\b/i.test(name)) {
				name = name.replace(/\sfor\sPS3\b/gi, "");
			}
			
			if (/\bPS3\b/i.test(name)) {
				name = name.replace(/\bPS3\b/gi, "");
			}
			
			if (/\bPlaystation\b/i.test(name)) {
				name = name.replace(/\bPlaystation\b/gi, "PlayStation");
			}
			
			name = name.replace(RX_FULL_GAME, "");

			name = name.replace(/\s+\)/g, ")");
			name = name.replace(/\(\s+/g, "(");
			name = name.replace(/\(\s*\)/g, "");
		
			name = name.replace(/(\S)\(/g, "$1 (");
		
			name = name.replace(RX_DBL_SPACE, " ").replace(RX_TRIM, '');

			return name;
		}
    
    // ==============================================================
    // 3. ZOOM CONTROL (PC ONLY)
    // ==============================================================
    function updateGridScale(val) {
		if (document.body.className.indexOf('is-pc') === -1) return;
		
		var list = document.getElementById('list');
		if(list) {
			list.style.setProperty('--scale', val);
		}
	}
    // ==============================================================
    // 4. CACHE & HELPERS (FEATURE DETECTION)
    // ==============================================================
    function setCookie(name, value, days) {
    var expires = "";
    if (days) {
        var date = new Date();
        date.setTime(date.getTime() + (days * 24 * 60 * 60 * 1000));
        expires = "; expires=" + date.toUTCString();
    }
    document.cookie = name + "=" + (value || "") + expires + "; path=/";
	}
	
	function getCookie(name) {
		var nameEQ = name + "=";
		var ca = document.cookie.split(';');
		for(var i = 0; i < ca.length; i++) {
			var c = ca[i];
			while (c.charAt(0) == ' ') c = c.substring(1, c.length);
			if (c.indexOf(nameEQ) == 0) return c.substring(nameEQ.length, c.length);
		}
		return null;
	}
	
	function saveState(key, value) {
		if (typeof window.localStorage !== 'undefined') {
			try {
				localStorage.setItem(key, value);
			} catch (e) {
				setCookie(key, value, 365);
			}
		} else {
			setCookie(key, value, 365);
		}
	}
	
	function loadState(key) {
		if (typeof window.localStorage !== 'undefined') {
			var lsValue = localStorage.getItem(key);
			if (lsValue !== null) return lsValue;
		}
		return getCookie(key);
	}
	
	
	function saveUIState() {
		var coverChecked = document.getElementById("cover-gui").checked;
		var audioChecked = document.getElementById("audio-toggle").checked;
	
		saveState(STORAGE_KEY_COVERS, coverChecked ? "1" : "0");
		saveState(STORAGE_KEY_AUDIO, audioChecked ? "1" : "0");
	}
	
	function loadUIState() {
		var coverToggle = document.getElementById("cover-gui");
		var audioToggle = document.getElementById("audio-toggle");
	
		var coverState = loadState(STORAGE_KEY_COVERS);
		if (coverState !== null) {
			coverToggle.checked = (coverState === "1");
		} else if (isPS3) {
			coverToggle.checked = true;
		} else {
			coverToggle.checked = true;
		}
		
		useCoverGUI = coverToggle.checked;
		
		var audioState = loadState(STORAGE_KEY_AUDIO);
		if (audioState !== null) {
			audioToggle.checked = (audioState === "1");
		} else {
			if (isPS3) {
				audioToggle.checked = false;
			} else {
				audioToggle.checked = true;
			}
		}
	
		if (!isPS3) { 
			var audioEl = document.getElementById('invisible-audio');
			if (audioEl && audioToggle.checked) {
				try {
					audioEl.volume = 0.06;  
				} catch(e) {}
			}
		}
	}
    
    function saveToCache(cat, data) {
        if (!window.localStorage) return;
        
        if (cat === "dlcs") return;

        try {
            localStorage.setItem("psn_db_" + cat, data);
            localStorage.setItem("psn_time_" + cat, new Date().getTime().toString());
        } catch (e) {
            try {
                var cats = ["games", "avatars", "demos", "themes"];
                for (var i = 0; i < cats.length; i++) {
                    if (cats[i] !== cat) {
                        localStorage.removeItem("psn_db_" + cats[i]);
                        localStorage.removeItem("psn_time_" + cats[i]);
                    }
                }
                localStorage.setItem("psn_db_" + cat, data);
                localStorage.setItem("psn_time_" + cat, new Date().getTime().toString());
            } catch (e2) {}
        }
    }

    function loadFromCache(cat) {
        if (!window.localStorage) return null;

        if (cat === "dlcs") return null;
        
        var data = localStorage.getItem("psn_db_" + cat);
        var time = localStorage.getItem("psn_time_" + cat);
        
        if (!data || !time) return null;
        if ((new Date().getTime() - parseInt(time)) > CACHE_TIME) return null;

        return data;
    }
    // ==============================================================
    // 5. UNIFIED LOADING
    // ==============================================================
    function stopRendering() {
        if (g_renderTimer) { clearTimeout(g_renderTimer); g_renderTimer = null; }
        g_renderID++;
    }
	
	var sonyPendingList = [];
	var sonyWorker = null;
	var g_renderTimer = null;
	var g_scrollTimer = null;
	
	function cancelAllDownloads() {
		if (sonyWorker) { 
			clearInterval(sonyWorker); 
			sonyWorker = null; 
		}
		sonyPendingList = [];
		if (g_renderTimer) clearTimeout(g_renderTimer);
		if (g_scrollTimer) clearTimeout(g_scrollTimer);
	}

	var sonyPendingList = [];
	var sonyProcessTimer = null;
	var sonyWorker = null;

	function markAsLoaded(el) {
	    el.removeAttribute('data-queued');
	    el.removeAttribute('data-loading');
	    el.removeAttribute('data-failed');
	    el.setAttribute('data-loaded', 'true');
	}

	function markAsFailed(el) {
	    el.setAttribute('data-failed', 'true');
	    el.removeAttribute('data-loading');
	}

	var isWorkerScheduled = false;
	
	function signalActivity() {
		if (!isPS3) return; 
	
		if (sonyWorker) return;
	
		if (isWorkerScheduled) return;
	
		isWorkerScheduled = true;
	
		setTimeout(startSonyPhase, 20);
	}
	
	function startSonyPhase() {
		isWorkerScheduled = false;
	
		if (sonyPendingList.length === 0) return;
		if (sonyWorker) return;
	
		sonyWorker = setInterval(function() {
			if (sonyPendingList.length === 0) {
				clearInterval(sonyWorker);
				sonyWorker = null;
				return;
			}
	
			var item = sonyPendingList.shift();
			
			if (!item || !item.element) return;
	
			var img = item.element;
			var title_id = item.title_id;
	
			if (!img.getAttribute('data-loaded')) {
				if (typeof generateSonyHash === 'function') {
					var hash = generateSonyHash(title_id);
					var sonyUrl = "https://raw.githubusercontent.com/PS3-Pro/Recently-Played-Games/master/np/" + hash + "/ICON0.PNG";
					
					var tempSony = new Image();
					
					tempSony.onload = function() {
						if (img) {
							img.src = this.src;
							markAsLoaded(img);
						}
					};
					
					tempSony.onerror = function() {
						if (img) markAsFailed(img);
					};
					
					tempSony.src = sonyUrl;
				}
			}
		}, 20);
	}
	
	function tryLoadImage(imgElement, mainUrl, title_id) {
		var requestRenderID = g_renderID;
	
		if (!isPS3) {
			var pcLoader = new Image();
			pcLoader.onload = function() {
				if (g_renderID !== requestRenderID) return;
				if (imgElement) { imgElement.src = this.src; markAsLoaded(imgElement); }
			};
			pcLoader.onerror = function() {
				if (g_renderID !== requestRenderID) return;
				if (this.src.indexOf('PSN-Content') !== -1 && typeof generateSonyHash === 'function') {
					var hash = generateSonyHash(title_id);
					this.src = "https://raw.githubusercontent.com/PS3-Pro/Recently-Played-Games/master/np/" + hash + "/ICON0.PNG";
				} else {
					if (imgElement) markAsFailed(imgElement);
				}
			};
			pcLoader.src = mainUrl;
			return;
		}
	
		var ps3Loader = new Image();
		ps3Loader.onload = function() {
			if (g_renderID !== requestRenderID) return;
			if (imgElement) { imgElement.src = this.src; markAsLoaded(imgElement); }
		};
	
		ps3Loader.onerror = function() {
			if (g_renderID !== requestRenderID) return;
			
			if (mainUrl.indexOf('Recently-Played-Games') !== -1) {
				if (imgElement) markAsFailed(imgElement);
			} else {
				if (imgElement) {
					sonyPendingList.push({ element: imgElement, title_id: title_id });
				}
				signalActivity();
			}
		};
	
		ps3Loader.src = mainUrl;
	}

    // ==============================================================
    // 6. LAZY LOADING (ANTI-CRASH)
    // ==============================================================
	function checkVisibility() {
    if (!useCoverGUI) return;

    var contentDiv = document.querySelector('.content');
    var imgs = document.querySelectorAll('.game-tile img');
    var scrollY = contentDiv ? contentDiv.scrollTop : window.pageYOffset;
    var viewH = window.innerHeight;

    var loadTop = scrollY - 50; 
    var loadBottom = scrollY + viewH + 300; 

    var queue = [];

    // Primeiro, apenas identificamos quem precisa ser baixado
    for (var i = 0; i < imgs.length; i++) {
        var img = imgs[i];
        if (img.getAttribute('data-loading') || img.getAttribute('data-loaded')) continue;

        var rect = img.getBoundingClientRect();
        var yPos = rect.top + scrollY;

        if (yPos >= loadTop && yPos <= loadBottom) {
            queue.push(img);
        }
    }

    // Agora, processamos a fila UM POR UM com um pequeno atraso
    if (queue.length > 0) {
        processQueue(queue, 0);
    }
}

// Função auxiliar para criar o efeito "escadinha"
function processQueue(queue, index) {
    if (index >= queue.length) return;

    var realImg = queue[index];
    var title_id = realImg.getAttribute('data-title_id');
    
    // Criamos uma imagem na RAM (não está na tela)
    var ghost = new Image();
    
    var urlJPG = isPS3 ? 
        "https://raw.githubusercontent.com/PS3-Pro/PSN-Content/master/resources/covers/compressed/" + title_id + ".JPG" :
        "https://raw.githubusercontent.com/PS3-Pro/PSN-Content/master/resources/covers/uncompressed/" + title_id + ".JPG";

    // SUCESSO: Só aqui a imagem da tela muda
    ghost.onload = function() {
        realImg.src = this.src; // Troca instantânea, já está no cache da RAM
        realImg.removeAttribute('data-loading');
        realImg.setAttribute('data-loaded', 'true');
    };

    // ERRO: O fantasma lida com o Hash nos bastidores
    ghost.onerror = function() {
        // Se falhou o JPG, o fantasma tenta o Hash
        if (this.src.indexOf('.JPG') !== -1 && typeof generateSonyHash === 'function') {
            var hash = generateSonyHash(title_id);
            // O fantasma tenta o link de Hash agora
            this.src = "https://raw.githubusercontent.com/PS3-Pro/Recently-Played-Games/master/np/" + hash + "/ICON0.PNG";
        } 
        else {
            // Se tudo falhou, a imagem real da tela CONTINUA sendo a defaultCover
            // e apenas marcamos como falha para não tentar de novo.
            realImg.removeAttribute('data-loading');
            realImg.setAttribute('data-failed', 'true');
        }
    };

    // O download começa no "fantasma"
    ghost.src = urlJPG;

    // Próximo da fila
    // Como o carregamento é em background, podemos diminuir o delay!
    setTimeout(function() {
        processQueue(queue, index + 1);
    }, isPS3 ? 0 : 10); 
}
	
	var g_scrollTimer = null;

    function attachScrollListener() {
		var contentDiv = document.querySelector('.content');

		var onScrollHandler = function() {
			if (!useCoverGUI) return;

			if (g_scrollTimer) clearTimeout(g_scrollTimer);
			
			var delay = isPS3 ? 300 : 50;

			g_scrollTimer = setTimeout(checkVisibility, delay);
		};

		if (contentDiv) { contentDiv.onscroll = onScrollHandler; }
		window.onscroll = onScrollHandler;
	}
	
	function clearListMemory() {
    var list = document.getElementById('list');
    if (!list) return;

    stopRendering();
    cancelAllDownloads();

    while (list.firstChild) {
        var item = list.firstChild;
        var img = item.getElementsByTagName('img')[0];
        if (img) {
            img.src = "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"; 
            img.onload = null;
            img.onerror = null;
        }
        list.removeChild(item);
    }
    
    g_sonyHashCache = {};
}
	
    // ==============================================================
    // 7. UI RENDERING
    // ==============================================================
    function scrollToTop() {
        var contentDiv = document.querySelector('.content');
        if (contentDiv) {
            contentDiv.scrollTop = 0;
        } 
        window.scrollTo(0, 0);
        document.body.scrollTop = 0;
        document.documentElement.scrollTop = 0;
    }
	
	function scrollToBottom() {
		var contentDiv = document.querySelector('.content');
		if (contentDiv) {
			contentDiv.scrollTop = contentDiv.scrollHeight - contentDiv.clientHeight;
		} 
		var maxScrollPos = document.documentElement.scrollHeight - window.innerHeight;
		window.scrollTo(0, maxScrollPos);
		document.documentElement.scrollTop = maxScrollPos; 
	}
	
    function sort(lines, algo) {
        if (Array.prototype.sort) {
            return lines.sort(function(a, b) {
                if (algo(a, b)) return 1;
                if (algo(b, a)) return -1;
                return 0;
            });
        } 
        else {
            for (var i=0; i<lines.length; i++) for (var j=0; j<lines.length-i-1; j++)
                if (algo(lines[j], lines[j+1])) { var temp = lines[j]; lines[j] = lines[j+1]; lines[j+1] = temp; }
            return lines;
        }
    }
	
    function makeRap(row) {
        var hex = row[4];
        var contentID = row[5];
        
		if (!hex) return "";
		
		if (hex.length < 10 && hex.indexOf("NOT") === -1) return "";
        
        if (hex === "NOT REQUIRED") {
            return '';
			//return '<span class="rap-green"></span>';
        }

        if (hex === "MISSING" || hex.length !== 32) {
            return '';
			//return '<span class="rap-red"></span>';
        }

        return '<a download="'+contentID+'.rap" href="https://ps3-pro.github.io/License-Files/files/'+contentID+'.rap">RAP</a>';
    }
	
    function formatFileSize(bytes) {
        var b = bytes * 1;        
        if (isNaN(b) || b <= 0) return "";
        if (b >= 1073741824) return (b / 1073741824).toFixed(2) + " GB";
        if (b >= 1048576)    return (b / 1048576).toFixed(2) + " MB";
        if (b >= 1024)       return (b / 1024).toFixed(2) + " KB";
        return b + " B";
    }
	
	// ==============================================================
	// 8. COVERS, DLC & AVATAR SYSTEM
	// ==============================================================
	var g_dlcMap = {};
	var g_dlcIndexLoaded = false;
	var g_avatarMap = {};
	var g_avatarIndexLoaded = false;
	
	var g_coverMap = {};
	var g_coverIndexLoaded = false;
	var URL_DB_COVERS = "https://raw.githubusercontent.com/PS3-Pro/PSN-Content/master/resources/covers/index.tsv";

	function loadCoverIndexBackground() {
		if (g_coverIndexLoaded) return;
		var xhr = new XMLHttpRequest();
		xhr.onreadystatechange = function() {
			if (xhr.readyState == 4 && (xhr.status == 200 || xhr.status == 0)) {
				var text = xhr.responseText;
				if (!text) return;

				var regex = /([A-Z]{4}[0-9]{5})/g;
				var match;
				while ((match = regex.exec(text)) !== null) {
					g_coverMap[match[1]] = true;
				}
				g_coverIndexLoaded = true;
			}
		};
		xhr.open('GET', URL_DB_COVERS, true);
		xhr.send();
	}

	function openGameDLCs(title_id) {
		selectCategory('dlcs');
		var searchInput = document.engine.query;
		searchInput.value = title_id;
		setFilter('search', title_id, null);
		
		var list = document.getElementById('list');
		if (list) {
			list.innerHTML = '<li>Searching DLC...</li>';
		}
		
		var count = document.getElementById('count');
		if (count) {
			count.textContent = "Searching DLC | " + title_id;
		}
	}

	function openGameAvatars(title_id) {
		selectCategory('avatars');
		var searchInput = document.engine.query;
		searchInput.value = title_id;
		setFilter('search', title_id, null);
		
		var list = document.getElementById('list');
		if (list) {
			list.innerHTML = '<li>Searching Avatar...</li>';
		}
		
		var count = document.getElementById('count');
		if (count) {
			count.textContent = "Searching Avatar | " + title_id;
		}
	}
	
	function loadDLCIndexBackground() {
		if (g_dlcIndexLoaded) return;
		
		var xhr = new XMLHttpRequest();
		xhr.onreadystatechange = function() {
			if (xhr.readyState == 4) {
				if (xhr.status == 200 || xhr.status == 0) {
					var text = xhr.responseText;
					if (!text) return;
	
					var regex = /([A-Z]{4}[0-9]{5})/g;
					var match;
					
					while ((match = regex.exec(text)) !== null) {
						g_dlcMap[match[1]] = true;
					}
					
					text = null;
					g_dlcIndexLoaded = true;
					
					if (currentCategory === 'games') {
						injectExtraButtonsOnScreen();
					}
				}
			}
		};
		xhr.open('GET', URL_DB_DLC, true);
		xhr.send();
	}

	function loadAvatarIndexBackground() {
		if (g_avatarIndexLoaded) return;
		
		var xhr = new XMLHttpRequest();
		xhr.onreadystatechange = function() {
			if (xhr.readyState == 4) {
				if (xhr.status == 200 || xhr.status == 0) {
					var text = xhr.responseText;
					if (!text) return;
	
					var regex = /([A-Z]{4}[0-9]{5})/g;
					var match;
					
					while ((match = regex.exec(text)) !== null) {
						g_avatarMap[match[1]] = true;
					}
					
					text = null;
					g_avatarIndexLoaded = true;
					
					if (currentCategory === 'games') {
						injectExtraButtonsOnScreen();
					}
				}
			}
		};
		xhr.open('GET', URL_DB_AVATAR, true);
		xhr.send();
	}

	function injectExtraButtonsOnScreen() {
		if (typeof g_dlcMap === 'undefined') g_dlcMap = {};
		if (typeof g_avatarMap === 'undefined') g_avatarMap = {};
	
		var useGrid = document.getElementById("cover-gui").checked;
		
		if (useGrid) {
			var tiles = document.getElementsByClassName('game-tile');
			for (var i = 0; i < tiles.length; i++) {
				var tile = tiles[i];
				var img = tile.getElementsByTagName('img')[0];
				
				if (img) {
					var title_id = img.getAttribute('data-title_id');
					var linksDiv = tile.getElementsByClassName('links')[0];
					
					if (linksDiv && title_id) {
						var hasDlcBtn = tile.innerHTML.indexOf('dlc-btn') !== -1;
						var hasAvaBtn = tile.innerHTML.indexOf('avatar-btn') !== -1;
						
						var pkgBtn = linksDiv.getElementsByClassName('pkg-btn')[0];
						var currentTarget = pkgBtn;
						
						if (g_dlcMap[title_id] && !hasDlcBtn) {
							var btn = ' <a href="#" class="dlc-btn" onclick="openGameDLCs(\'' + title_id + '\'); return false;">DLC</a>';
							if(currentTarget) {
								currentTarget.insertAdjacentHTML('afterend', btn);
								currentTarget = linksDiv.getElementsByClassName('dlc-btn')[0]; 
							}
							else linksDiv.innerHTML += btn;
						}
						
						if (g_avatarMap[title_id] && !hasAvaBtn) {
							var btn = ' <a href="#" class="avatar-btn" onclick="openGameAvatars(\'' + title_id + '\'); return false;">AVT</a>';
							if(currentTarget) currentTarget.insertAdjacentHTML('afterend', btn);
							else linksDiv.innerHTML += btn;
						}
					}
				}
			}
		} else {
			var listItems = document.getElementById('list').getElementsByTagName('li');
			for (var j = 0; j < listItems.length; j++) {
				var li = listItems[j];
				var htmlContent = li.innerHTML;
				
				var idMatch = htmlContent.match(/\[([A-Z]{4}[0-9]{5})\]/);
				
				if (idMatch && idMatch[1]) {
					var tid = idMatch[1];
					var pkgBtnList = li.getElementsByClassName('pkg-btn')[0];
					var currentTargetList = pkgBtnList;
					
					if (currentTargetList) {
						if (g_dlcMap[tid] && htmlContent.indexOf('dlc-btn') === -1) {
							currentTargetList.insertAdjacentHTML('afterend', ' <a href="#" class="dlc-btn" onclick="openGameDLCs(\'' + tid + '\'); return false;">DLC</a>');
							currentTargetList = li.getElementsByClassName('dlc-btn')[0]; // Atualiza o alvo
						}
						if (g_avatarMap[tid] && htmlContent.indexOf('avatar-btn') === -1) {
							currentTargetList.insertAdjacentHTML('afterend', ' <a href="#" class="avatar-btn" onclick="openGameAvatars(\'' + tid + '\'); return false;">AVT</a>');
						}
					}
				}
			}
		}
	}
    
    function renderChunk() {
		var list = document.getElementById('list');
		if (!list) return;
		
		if (g_currentChunkIndex === 0 && currentCategory === "legacy") {
			list.innerHTML = '<div class="legacy-warning" style="display: block !important; width: 100% !important; float: none !important; clear: both !important; grid-column: 1 / -1 !important; padding: 15px 0; pointer-events: none; border: none !important; background: none !important;">' +
				'<div style="width: 85%; margin: 0 auto; text-decoration: none; color: #FFE162; font-weight: bold; text-align: center; font-size: 16px; line-height: 1.5; text-shadow: 1px 1px 3px rgba(0,0,0,0.7);">' +
				'Use with caution! Avoid the use on <span style="color: #00FF00; border-bottom: 1px solid #00FF00;">HEN</span>.<br>' + 
				'These are Outdated apps that are no longer recommended, most have been superseded by newer apps.' +
				'</div>' +
			'</div>';
		}
		
		if (g_currentChunkIndex === 0 && currentCategory === "emulators") {
			list.innerHTML = '<div class="legacy-warning" style="display: block !important; width: 100% !important; float: none !important; clear: both !important; grid-column: 1 / -1 !important; padding: 15px 0; pointer-events: none; border: none !important; background: none !important;">' +
				'<div style="width: 85%; margin: 0 auto; text-decoration: none; color: #FFE162; font-weight: bold; text-align: center; font-size: 16px; line-height: 1.5; text-shadow: 1px 1px 3px rgba(0,0,0,0.7);">' +
				'The emulators doesn&apos;t incluse roms, just the emulator itself!' +
				'</div>' +
			'</div>';
		}

		var is_ps3 = isPS3; 
		var totalMatches = g_allMatches.length;
		var currentLimit = is_ps3 ? totalMatches : g_pcRenderLimit;
		
		var chunk = g_allMatches.slice(g_currentChunkIndex, g_currentChunkIndex + g_chunkSize);
		
		if (chunk.length === 0) {
			if (g_currentChunkIndex === 0) {
				list.innerHTML = '<li>No items found.</li>';
			}
			var btn = document.getElementById('btn-load-more');
			if(btn) btn.style.display = 'none';
			
			if (g_pendingScroll !== null) {
				var contentDiv = document.querySelector('.content');
				if (contentDiv) contentDiv.scrollTop = g_pendingScroll;
				g_pendingScroll = null;
			}
			return;
		}
		
		var chunkArray = [];
		var len = chunk.length;
		
		for (var i = 0; i < len; i++) {
			if (!is_ps3 && (g_currentChunkIndex + i) >= currentLimit) break;

			var row = chunk[i];
			var url = row[3];

			if (!url || url === "MISSING") continue;
			
			var sizeBytes = row[row.length-1] || row[row.length-2] || "";
			var size = formatFileSize(sizeBytes);
			if (size === "") size = "N/A";
			
			var title_id = row[0];
				var name = row[2].replace(RX_CONSOLE_TAGS, "").replace(RX_TRIM, '');
			
				var extraButtonsHTML = "";
    
				if (currentCategory === 'games') {
					if (g_dlcMap[title_id]) {
						extraButtonsHTML += ' <a href="#" class="dlc-btn" onclick="openGameDLCs(\'' + title_id + '\'); return false;">DLC</a>';
					}
					if (g_avatarMap[title_id]) {
						extraButtonsHTML += ' <a href="#" class="avatar-btn" onclick="openGameAvatars(\'' + title_id + '\'); return false;">AVT</a>';
					}
				}
			
				if (useCoverGUI) {
					var uniqueIndex = g_currentChunkIndex + i;
					var lazyClass = is_ps3 ? "lazy-ps3" : "";
					var tileId = "img_" + title_id + "_" + uniqueIndex;
					
					chunkArray.push(
						'<div class="game-tile">',
						'<img id="', tileId, '" class="', lazyClass, '" src="', defaultCover, '" data-title_id="', title_id, '" onclick="showGameDetails(' + uniqueIndex + ')" style="cursor: pointer;">',
						'<div class="title">', name, '</div>',
						'<div class="title-id">[', title_id, ']</div>',
						'<div class="size">', size, '</div>',
						'<div class="links">',
							'<a href="', url, '" class="pkg-btn">PKG</a>',
							extraButtonsHTML,
							makeRap(row),
						'</div>',
						'</div>'
					);
				} else {
					chunkArray.push(
					'<li>',
						name, 
						' <span class="id-text">[', title_id, ']</span> ',
						' <span class="size">', size, '</span> ',
						'<a href="', url, '" class="pkg-btn">PKG</a> ',
						extraButtonsHTML,
						' ', makeRap(row),
					'</li>'
					);
				}
			}
		
		if (chunkArray.length > 0) {
			list.insertAdjacentHTML('beforeend', chunkArray.join(''));
		}
		chunkArray = null;
		
		if (useCoverGUI) {
			if (is_ps3 || g_lazyLoadPC) {
				if (g_scrollTimer) clearTimeout(g_scrollTimer);
				g_scrollTimer = setTimeout(checkVisibility, is_ps3 ? 50 : 10);
			} 
			else {
				for (var i = 0; i < len; i++) {
					if ((g_currentChunkIndex + i) >= currentLimit) break;
					
					var r = chunk[i];
					if (r[0] && r[3] && r[3] !== "MISSING") {
						var uIdx = g_currentChunkIndex + i;
						var uTileId = "img_" + r[0] + "_" + uIdx;
						var imgEl = document.getElementById(uTileId);
						
						if (imgEl) {
							var ghDirectPC = "https://raw.githubusercontent.com/PS3-Pro/PSN-Content/master/resources/covers/uncompressed/" + r[0] + ".JPG";
							tryLoadImage(imgEl, ghDirectPC, r[0]);
						}
					}
				}
			}
		}
		
		g_currentChunkIndex += g_chunkSize;
		
		if (g_currentChunkIndex < totalMatches && g_currentChunkIndex < currentLimit) {
			g_renderTimer = setTimeout(renderChunk, 0);
		} else {
			if (!is_ps3 && totalMatches > currentLimit) {
				var btn = document.getElementById('btn-load-more');
				var remaining = totalMatches - currentLimit;
				if(btn) {
					btn.innerHTML = "Load more " + (remaining > g_pcPageSize ? g_pcPageSize : remaining) + " items";
					btn.style.display = 'block';
				}
			} else {
				var btn = document.getElementById('btn-load-more');
				if(btn) btn.style.display = 'none';
			}
		}
	}
		
	function loadMoreItems() {
		if (isPS3) return;
		
		g_pcRenderLimit += g_pcPageSize;
		document.getElementById('btn-load-more').style.display = 'none';
		renderChunk();
		
		var totalMatches = g_allMatches.length;
		var newDisplayCount = Math.min(totalMatches, g_pcRenderLimit); 
		var regionText = (g_regionFilter == "ALL") ? "All Regions" : g_regionFilter;
		
        var countMsg = "Displaying " + newDisplayCount;
        
        if (totalMatches > newDisplayCount) {
             countMsg += " of " + totalMatches;
        }
        countMsg += " items | " + regionText;
		document.getElementById('count').textContent = countMsg;
	}

    function render() {
		clearListMemory()
		stopRendering();
		g_activeDownloads = 0;
		cancelAllDownloads();

        var categoryNames = {
            "games": "games",
            "prototypes": "prototypes",
            "avatars": "avatars",
            "demos": "demos",
            "dlcs": "dlcs",
            "themes": "themes",
            "apps": "apps",

            "homebrew_apps": "apps",
            "backup_manager": "backup managers",
            "emulators": "emulators",
            "homebrew_games": "games",
            "launchers": "launchers",
            "legacy": "legacy",
            "ports": "ports",
            "tools": "tools"
        };

        var displayName = categoryNames[currentCategory] || currentCategory;
        
		f.send.disabled = DB.length == 0;
		f.query.placeholder = "Search " + displayName;
        
		document.getElementById('btn-load-more').style.display = 'none';
	
        var regionRule = (g_regionFilter == "ALL") ? new RegExp(".*") : new RegExp("^"+g_regionFilter+"$", 'i');
		var isSearch = (g_letterFilter.length > 0 && g_letterFilter[0] != '^');
		
		var pattern = g_letterFilter;

		if (isSearch) {
			pattern = pattern.replace(/[.*+?^${}()|[\]\\]/g, function(match) {
				return "\\" + match;
			});
		}

		var letterRule = g_letterFilter == "" ? new RegExp(".*") : new RegExp(pattern, 'i');
		
		var maxCollectLimit = isPS3 ? (isSearch ? 99 : 1000) : 99999; 
		
		var matches = [];
		for (var i = 0; i < DB.length && matches.length < maxCollectLimit; i++) {
			var row = DB[i];
			if (!row[2]) continue;
			var nameMatches = (g_letterFilter == "" || (isSearch ? (row[2] && letterRule.test(row[2])) || row[0] == g_letterFilter : (row[2] && letterRule.test(row[2]))));
			var regionMatches = (g_regionFilter == "ALL" || (row[1] && regionRule.test(row[1])));
		
			
		var consoleMatches = true;
		if (currentCategory === "games") {
			var name = row[2];
			var titleId = row[0];
			
			var checkName = row.rawName || name;
			
			var isPS2 = /\(PS2\)|\(PS2 Classics?\)|\bPS2\b/i.test(checkName);
			var isPSX = /\(PSX\)|\(PSX Classics?\)|\bPSX\b|\(PS1\)|\(PS1 Classics?\)|\bPS1\b/i.test(checkName);
			var isPSP = /\(PSP\)|\(PS3\/PSP\)/i.test(checkName);
			var isMinis = (titleId && /^(NPUX|NPUZ)/i.test(titleId)) || /\(Minis\)/i.test(checkName);
			var isPCE = /\(PC\s*Engine|\(Turbo\s*Grafx/i.test(checkName);
			var isNeoGeo = /\(Neo\s*Geo|\bNeo\s*Geo\s*Station\b/i.test(checkName);
			var isPS3Game = !isPS2 && !isPSX && !isPSP && !isMinis && !isPCE && !isNeoGeo;
		
			consoleMatches = 
				(isPS3Game && g_consoleFilter.ps3) ||
				(isPS2 && g_consoleFilter.ps2) ||
				(isPSX && g_consoleFilter.psx) ||
				(isPSP && g_consoleFilter.psp) ||
				(isMinis && g_consoleFilter.minis) ||
				(isPCE && g_consoleFilter.pce) ||
                (isNeoGeo && g_consoleFilter.neogeo);
			}
			
			var appMatches = true;

            if (currentCategory === "apps") {
                var checkNameApp = row.rawName || row[2];

                var isFirstPlay = /FirstPlay/i.test(checkNameApp);
                var isQore = /Qore/i.test(checkNameApp);
                
                var isMedia = !isFirstPlay && !isQore; 

                appMatches = 
                    (isMedia && g_appFilter.media) ||
                    (isFirstPlay && g_appFilter.firstplay) ||
                    (isQore && g_appFilter.qore);
            }
			
			var url = row[3];
			var hasValidUrl = (url && url !== "MISSING");
		
			if (nameMatches && regionMatches && consoleMatches && appMatches && hasValidUrl) {
                matches.push(row);
			}

		}
		
		sort(matches, function(a, b) { return a[2] > b[2]; });
		g_allMatches = matches;
		
		if (isPS3) {
		var totalItems = g_allMatches.length; 
			var chunkSizeIdeal = 200;
			var dynamicChunkSize;
		
			if (totalItems <= 50) {
				dynamicChunkSize = totalItems > 0 ? totalItems : 1; 
			} else {
				dynamicChunkSize = Math.min(chunkSizeIdeal, totalItems); 
			}
			g_chunkSize = dynamicChunkSize; 
		}
		g_currentChunkIndex = 0;
		
		var list = document.getElementById('list');
		list.innerHTML = '';
		list.className = useCoverGUI ? "grid" : "";
		renderChunk();
		
		var regionText = (g_regionFilter == "ALL") ? "All Regions" : g_regionFilter;
		
		var totalMatches = matches.length;
		var displayCount;
	
		if (isPS3) {
			displayCount = totalMatches;
		} else {
			displayCount = Math.min(totalMatches, g_pcRenderLimit);
		}

        var countMsg = "Displaying " + displayCount;
        
        if (totalMatches > displayCount) {
            countMsg += " of " + totalMatches;
        }
        
        countMsg += " items | " + regionText;

		document.getElementById('count').textContent = countMsg;
		
		var displayCount;
	}

    function checkStartupAlert() {
    if (g_startupAlertMessage) {
        setTimeout(function() {
            alert(g_startupAlertMessage);
            g_startupAlertMessage = null;
            
            var audioToggle = document.getElementById('audio-toggle');
            if (isPS3 && typeof loadFlashPlayer === 'function' && audioToggle && audioToggle.checked /* && !useCoverGUI */) {			
                loadFlashPlayer();
				}
			}, 1000);
		}
	}

    try {
        var g_tempMap = {}; 
		function processChunk(tsvData) {
			var lines = tsvData.split("\n");
			var len = lines.length;
		
			for (var i = 0; i < len; i++) {
				var line = lines[i];
				if (line.length < 5) continue;
				
				line = line.replace(RX_TRIM, '');
				if (line === "") continue;
		
				var parts = line.split("\t");
				var title_id = parts[0];
				
				if (!title_id || title_id.length !== 9) continue;
				
				var rawName = parts[2];
				if (rawName) rawName = rawName.replace(RX_TRIM, '');
				else continue;

				if (title_id && RX_TITLE_ID.test(title_id)) continue;
				
				var isAppItem = false;
				
				if (currentCategory === "games" || currentCategory === "apps") {
				var isAppID = RX_APPS_FILTER.test(title_id);
				var isAppName = /FirstPlay|Qore/i.test(rawName);
				var isAppItem = isAppID || isAppName;
				}
				
				if (currentCategory === "games") {
					if (isAppItem) continue;
				} 
				else if (currentCategory === "apps") {
					if (!isAppItem) continue;
				}
				
				parts[2] = rawName;
				var nameForFilter = rawName;
		
				var isTestVersion = RX_DEMO_CHK.test(parts[2]);
		
				if ((currentCategory === "games" || currentCategory === "apps") && isTestVersion) continue;
				
				if (currentCategory === "demos" && !isTestVersion) continue;
		
				var name = cleanGameName(parts[2], currentCategory);
				
				parts[2] = name;
				
				parts.rawName = nameForFilter;
				
				var url = parts[3];
				var uniqueKey = title_id + "|" + url;
		
				if (!g_tempMap[uniqueKey]) {
					g_tempMap[uniqueKey] = parts;
				} else {
					var existingRap = g_tempMap[uniqueKey][4];
					var oldIsBad = (!existingRap || existingRap === "MISSING");
					var newIsGood = (parts[4] && parts[4] !== "MISSING");
		
					if (oldIsBad && newIsGood) {
						g_tempMap[uniqueKey] = parts;
					}
				}
			}
			lines = null;
		}

		function finalizeDB() {
			DB = [];
			for (var key in g_tempMap) {
				if (g_tempMap.hasOwnProperty(key)) {
					DB.push(g_tempMap[key]);
				}
			}
			g_tempMap = {}; 
		}
		
		function fetchDB() {
		stopRendering();
		
		cancelAllDownloads(); 
        g_activeDownloads = 0;
			
		if (window.localStorage) f.fetch.disabled = true;
		
		g_tempMap = {};
		
		var cachedData = loadFromCache(currentCategory);
		if (cachedData) {
			document.getElementById('list').innerHTML = '<li>Loading from cache... Please wait.</li>';
			setTimeout(function(){ 
				processChunk(cachedData); 
				finalizeDB();
				
				if (window.localStorage) f.fetch.disabled = false; 
				render(); 
				checkStartupAlert(); 
				attachScrollListener(); 
			}, 50); 
			return;
		}
		
		var currentIndex = 0; 
		var cacheAccumulator = ""; 
		
		function loadNextFile() {
			if (currentIndex >= dbPaths.length) {
				finalizeDB();
		
				if (cacheAccumulator.length > 0) {
					saveToCache(currentCategory, cacheAccumulator);
					cacheAccumulator = "";
				}
		
				if (window.localStorage) f.fetch.disabled = false;
				render();
				checkStartupAlert();
				attachScrollListener();
				return;
			}
			
			var urlToLoad = dbPaths[currentIndex];
			if (window.localStorage) { urlToLoad += "?t=" + new Date().getTime(); }
			
			var xhr = new XMLHttpRequest();
			xhr.onreadystatechange = function() {
				if (xhr.readyState == 4) {
					if (xhr.status == 200 || xhr.status == 0) {
						var content = xhr.responseText;
						if (currentCategory !== 'dlcs') {
							cacheAccumulator += "\n" + content;
						}
		
						processChunk(content);
						content = null; 
		
						currentIndex++;
						document.getElementById('count').textContent = "Processing part " + currentIndex + "/" + dbPaths.length + "...";
						loadNextFile(); 
					} else {
						alert("Error loading part " + (currentIndex+1));
						if (window.localStorage) f.fetch.disabled = false;
					}
				}
			};
			
			try { 
				xhr.open('GET', urlToLoad, true); 
				xhr.send(); 
			} catch(e) { 
				alert("Net Error: " + e); 
				if (window.localStorage) f.fetch.disabled = false; 
			}
		}
		
		loadNextFile();
		}

        document.getElementById("cover-gui").onclick = function() {
			stopRendering();
			cancelAllDownloads();
			useCoverGUI = this.checked;
			saveUIState(); 
	
			var zoomSlider = document.getElementById("zoom-container");
			if (zoomSlider) {
				zoomSlider.style.display = useCoverGUI ? "inline-block" : "none";
			}
	
			if (isPS3) {
				var audioBtn = document.getElementById('audio-switch');
				var audioToggle = document.getElementById('audio-toggle');
				
				if (useCoverGUI) {
				} else {
					if (audioToggle && audioToggle.checked) {
					}
				}
			}
			
			document.getElementById('list').innerHTML = useCoverGUI ? '<li>Switching to grid view...</li>' : '<li>Switching to list view...</li>';
			setTimeout(render, 300);
			scrollToTop();
		};
		
		document.getElementById("audio-toggle").onclick = function() {
		var isChecked = this.checked;
        saveUIState();

            if (isPS3) {
                if (isChecked) {
                    if (typeof startFlashPlayer === 'function') startFlashPlayer();
                } else {
                    if (typeof stopFlashPlayer === 'function') stopFlashPlayer();
                }
            } else {
				var audioEl = document.getElementById('invisible-audio');
				if (audioEl) {
					if (isChecked) {
						audioEl.volume = 0.06;
						audioEl.play();
					} else {
						audioEl.pause();
					}
				}
			}
		}; 
        
        function triggerReload() {
            stopRendering();
            if(window.localStorage) {
                localStorage.removeItem("psn_db_" + currentCategory);
                localStorage.removeItem("psn_time_" + currentCategory);
            }
            document.getElementById('list').innerHTML = '<li>Reloading database... Please wait.</li>';
            document.getElementById('count').textContent = "Reloading | " + g_regionFilter;
            fetchDB();
        }

        function setFilter(type, value, clickedElement) {
		stopRendering();
		
		if (isPS3) {
			cancelAllDownloads();
            g_failedIDs = {};
		}
		
		if (type == 'search') {
			var cleanValue = value.replace(/^\s+|\s+$/g, ''); 
			
			if (cleanValue !== "" && g_preSearchState === null) {
				var contentDiv = document.querySelector('.content');
				g_preSearchState = {
					letter: g_letterFilter,
					region: g_regionFilter,
					limit: g_pcRenderLimit,
					scroll: contentDiv ? contentDiv.scrollTop : 0
				};
			}
			g_letterFilter = value;
			
			g_isSearchActive = true;
		}
		else if (type == 'letter') { 
			g_letterFilter = value; 
			f.query.value = ""; 
			g_preSearchState = null;
			g_pcRenderLimit = 1000;
			g_isSearchActive = false;
		}
		else if (type == 'region') { 
			g_regionFilter = value; 
			if (f.query.value === "") {
				g_preSearchState = null;
				g_pcRenderLimit = 1000;
				g_isSearchActive = false;
			}
		}
	
		var links = (type == 'letter') ? document.getElementById("letters").getElementsByTagName("a") : document.getElementById("region-links").getElementsByTagName("a");
		if (type !== 'search') {
			for (var i = 0; i < links.length; i++) links[i].className = "";
			if (clickedElement) clickedElement.className = "active";
		}
	
		document.getElementById('list').innerHTML = '<li>Filtering database... Please wait.</li>';
		document.getElementById('count').textContent = "Filtering | " + g_regionFilter;
		
		setTimeout(render, 300);
		
		if (type !== 'search') scrollToTop();
	}
			
		function onSearchInput(input) {
		var val = input.value;
	
		if (val === "") {
			if (!g_isSearchActive) return;
			
			if (g_preSearchState) {
				g_letterFilter = g_preSearchState.letter;
				g_regionFilter = g_preSearchState.region;
				g_pcRenderLimit = g_preSearchState.limit;
				
				g_pendingScroll = g_preSearchState.scroll;
				
				render(true);
				
				g_preSearchState = null;
			} else {
				g_pcRenderLimit = 1000;
				setFilter('letter', g_defaultLetterFilter || "", null);
			}
			
			g_isSearchActive = false;
		} 
		else {
			if (!isPS3) {
				setFilter('search', val, null);
			}
		}
	}
		
		function checkEnter(e, input) {
			var key = e.which || e.keyCode;
			if (key === 13) {
				if(input) input.blur(); 
				forceSearch(input);
				return false;
			}
		}
		
		function forceSearch(input) {
			var val = input.value;
			if (val === "") {
				onSearchInput(input); 
				return;
			}
		
			if (val && val.replace(/^\s+|\s+$/g, '') !== "") {
				setFilter('search', val, null);
			}
		}
        
        function createLetterLinks() {
           var links = '<a href="#" onclick="setFilter(\'letter\', \'^[^0-9A-Z]\', this); return false;">#</a>';
           links += '<a href="#" onclick="setFilter(\'letter\', \'^[0-9]\', this); return false;">[0-9]</a>';
		   for (var c = 65; c < 91; c++) { 
               var letra = String.fromCharCode(c); 
               links += '<a href="#" onclick="setFilter(\'letter\', \'^' + letra + '\', this); return false;">' + letra + '</a>'; 
           }
           
           document.getElementById("letters").innerHTML = links;
        }
        createLetterLinks();
		
		function setConsoleFilter() {
			var ps3 = document.getElementById('filter-ps3');
			var ps2 = document.getElementById('filter-ps2');
			var psx = document.getElementById('filter-psx');
			var psp = document.getElementById('filter-psp');
			var minis = document.getElementById('filter-minis');
            var pce = document.getElementById('filter-pce');
            var neogeo = document.getElementById('filter-neogeo');

			if (ps3) g_consoleFilter.ps3 = ps3.checked;
			if (ps2) g_consoleFilter.ps2 = ps2.checked;
			if (psx) g_consoleFilter.psx = psx.checked;
			if (psp) g_consoleFilter.psp = psp.checked;
			if (minis) g_consoleFilter.minis = minis.checked;
            if (pce) g_consoleFilter.pce = pce.checked;
            if (neogeo) g_consoleFilter.neogeo = neogeo.checked;
		
			document.getElementById('list').innerHTML = '<li>Filtering database... Please wait.</li>';
			document.getElementById('count').textContent = "Filtering | " + g_regionFilter;
			setTimeout(render, 300);
		}
		
		function setAppsFilter() {
			var media = document.getElementById('filter-media');
			var firstplay = document.getElementById('filter-firstplay');
			var qore = document.getElementById('filter-qore');
		
			if (media) g_appFilter.media = media.checked;
			if (firstplay) g_appFilter.firstplay = firstplay.checked;
			if (qore) g_appFilter.qore = qore.checked;
		
			document.getElementById('list').innerHTML = '<li>Filtering Apps...</li>';
			setTimeout(render, 50);
		}

        var dbPaths = [];

        function selectCategory(cat) {
        stopRendering();
        currentCategory = cat;
        
        if (isPS3) {
            g_failedIDs = {}; 
        }
        
        g_isSearchActive = false;

        switch(cat) {
			 case "prototypes": 
                dbPaths = [
                "https://raw.githubusercontent.com/PS3-Pro/PSN-Content/master/resources/database/official/prototypes.tsv",
                ]; 
                break;
			case "games": 
				if (isPS3) {
					dbPaths = [
						"https://raw.githubusercontent.com/PS3-Pro/PSN-Content/master/resources/database/official/games.tsv",
						"https://raw.githubusercontent.com/PS3-Pro/PSN-Content/master/resources/database/official/pending/games.tsv",
					];
				} else {
					dbPaths = [
						"https://raw.githubusercontent.com/PS3-Pro/PSN-Content/master/resources/database/official/games.tsv",
						"https://raw.githubusercontent.com/PS3-Pro/PSN-Content/master/resources/database/official/pending/games.tsv",
						"https://raw.githubusercontent.com/PS3-Pro/PSN-Content/master/resources/database/external/nostalgia_vault.tsv", // SSL not supported on PS3
					]; 
				}
				break;
            case "avatars": 
                dbPaths = [
                "https://raw.githubusercontent.com/PS3-Pro/PSN-Content/master/resources/database/official/avatars.tsv",
                "https://raw.githubusercontent.com/PS3-Pro/PSN-Content/master/resources/database/official/pending/avatars.tsv"
                ]; 
                break;
            case "demos": 
                dbPaths = [
				"https://raw.githubusercontent.com/PS3-Pro/PSN-Content/master/resources/database/official/demos.tsv",
				"https://raw.githubusercontent.com/PS3-Pro/PSN-Content/master/resources/database/official/pending/demos.tsv",
				 
                //The games list also contains demos, but the filter will take care of it.
				"https://raw.githubusercontent.com/PS3-Pro/PSN-Content/master/resources/database/official/games.tsv",
				"https://raw.githubusercontent.com/PS3-Pro/PSN-Content/master/resources/database/official/pending/games.tsv",
                ]; 
                break;
            case "dlcs": 
                dbPaths = [
				"https://raw.githubusercontent.com/PS3-Pro/PSN-Content/master/resources/database/official/dlcs.tsv",
				"https://raw.githubusercontent.com/PS3-Pro/PSN-Content/master/resources/database/official/pending/dlcs.tsv",
				]; 
                break;
            case "themes": 
                dbPaths = [
                "https://raw.githubusercontent.com/PS3-Pro/PSN-Content/master/resources/database/official/themes.tsv",
				]; 
                break;
            case "apps": 
                dbPaths = [
				"https://raw.githubusercontent.com/PS3-Pro/PSN-Content/master/resources/database/official/games.tsv",
				"https://raw.githubusercontent.com/PS3-Pro/PSN-Content/master/resources/database/official/pending/games.tsv",
                ]; 
                break;
            case "homebrew_apps": 
                dbPaths = [
                "https://raw.githubusercontent.com/PS3-Pro/PSN-Content/master/resources/database/unofficial/apps.tsv",
                ]; 
                break;
            case "backup_manager": 
                dbPaths = [
                "https://raw.githubusercontent.com/PS3-Pro/PSN-Content/master/resources/database/unofficial/backup_managers.tsv",
                ]; 
                break;
            case "emulators": 
                dbPaths = [
                "https://raw.githubusercontent.com/PS3-Pro/PSN-Content/master/resources/database/unofficial/emulators.tsv",
                ]; 
                break;
            case "homebrew_games": 
                dbPaths = [
                "https://raw.githubusercontent.com/PS3-Pro/PSN-Content/master/resources/database/unofficial/games.tsv",
                ]; 
                break;
            case "launchers": 
                dbPaths = [
                "https://raw.githubusercontent.com/PS3-Pro/PSN-Content/master/resources/database/unofficial/launchers.tsv",
                ]; 
                break;
            case "legacy": 
                dbPaths = [
                "https://raw.githubusercontent.com/PS3-Pro/PSN-Content/master/resources/database/unofficial/legacy.tsv",
                ]; 
                break;
            case "ports": 
                dbPaths = [
                "https://raw.githubusercontent.com/PS3-Pro/PSN-Content/master/resources/database/unofficial/ports.tsv",
                ]; 
                break;
            case "tools": 
                dbPaths = [
                "https://raw.githubusercontent.com/PS3-Pro/PSN-Content/master/resources/database/unofficial/tools.tsv",
                ]; 
                break;
        }
		
		if (cat === 'games') {
			var delayDLC = isPS3 ? 400 : 50; 
			var delayAva = isPS3 ? 800 : 100;
			var delayCov = isPS3 ? 25 : 25;

			if (!g_coverIndexLoaded) {
				setTimeout(loadCoverIndexBackground, delayCov);
			}
			if (!g_dlcIndexLoaded) {
				setTimeout(loadDLCIndexBackground, delayDLC);
			}
			if (!g_avatarIndexLoaded) {
				setTimeout(loadAvatarIndexBackground, delayAva);
			}
		}
        
        DB = [];
        g_letterFilter = ""; 
        g_regionFilter = "ALL"; 
        f.query.value = "";
        
        if (isPS3) {
            var smallCats = ["apps", "prototypes", "homebrew_apps", "backup_manager", "emulators", "homebrew_games", "launchers", "legacy", "ports", "tools"];
            if (smallCats.indexOf(cat) > -1) {
                g_defaultLetterFilter = "";
            } else {
                g_defaultLetterFilter = "^[0-9]"; 
            }
        }
        
        if (g_defaultLetterFilter) g_letterFilter = g_defaultLetterFilter;
        
        var l = document.getElementById("letters").getElementsByTagName("a"); 
        for (var i = 0; i < l.length; i++) l[i].className = "";
        
        var r = document.getElementById("region-links").getElementsByTagName("a"); 
        for (var i = 0; i < r.length; i++) r[i].className = ""; 
        if (r[0]) r[0].className = "active";
        
        createLetterLinks();
        
        if (g_defaultLetterFilter == '^[0-9]') {
            var links = document.getElementById("letters").getElementsByTagName("a");
            for(var i=0; i < links.length; i++) {
                if (links[i].innerHTML === '[0-9]') {
                    links[i].className = "active";
                    break;
                }
            }
        }

        var menu = document.getElementById("selection-menu").getElementsByTagName("a"); 
        for (i = 0; i < menu.length; i++) menu[i].className = menu[i].className.replace("active", "");
        
        var menuUnofficial = document.getElementById("selection-menu-unofficial");
        if (menuUnofficial) {
            var linksUn = menuUnofficial.getElementsByTagName("a");
            for (i = 0; i < linksUn.length; i++) linksUn[i].className = linksUn[i].className.replace("active", "");
        }

        var ids = {
			apps: "ln-apps", 
            avatars: "ln-avatar", 
            demos: "ln-demos", 
            dlcs: "ln-dlcs", 
            games: "ln-game",
            prototypes: "ln-prototypes", 
			themes: "ln-themes", 
            
            backup_manager: "ln-backup_managers",
            emulators: "ln-emulators",
            homebrew_games: "ln-homebrew_games",
            launchers: "ln-launchers",
            legacy: "ln-legacy",
			homebrew_apps: "ln-homebrews_apps",
            ports: "ln-ports",
            tools: "ln-tools"
        };

        var targetId = ids[cat];
        if (targetId) {
            var el = document.getElementById(targetId); 
            if (el) el.className += " active";
        }

        document.getElementById('list').innerHTML = '<li>Downloading database... Please wait.</li>';
        document.getElementById('count').textContent = "Loading...";
        
        fetchDB(); scrollToTop();
        
        var consoleFilterDiv = document.getElementById("console-links");
        var consoleHeading = consoleFilterDiv ? consoleFilterDiv.previousElementSibling : null;
        
        if (consoleFilterDiv && consoleHeading) {
            if (cat === "games") {
                consoleFilterDiv.style.display = 'block';
                consoleHeading.style.display = 'block';
            } else {
                consoleFilterDiv.style.display = 'none';
                consoleHeading.style.display = 'none';
            }
        }
        
        var appsFilterDiv = document.getElementById("apps-filter-container");
        if (appsFilterDiv) {
            if (cat === "apps") {
                appsFilterDiv.style.display = 'block';
            } else {
                appsFilterDiv.style.display = 'none';
            }
        }
    }
    
    document.getElementById("ln-avatar").onclick = function() { selectCategory("avatars"); return false; };
    document.getElementById("ln-demos").onclick = function() { selectCategory("demos"); return false; };
    document.getElementById("ln-dlcs").onclick = function() { selectCategory("dlcs"); return false; };
    document.getElementById("ln-game").onclick = function() { selectCategory("games"); return false; };
	document.getElementById("ln-prototypes").onclick = function() { selectCategory("prototypes"); return false; };
    document.getElementById("ln-themes").onclick = function() { selectCategory("themes"); return false; };
    document.getElementById("ln-apps").onclick = function() { selectCategory("apps"); return false; };
    
        if (!window.localStorage) {
            f.fetch.style.display = 'none';
        }
        
        loadUIState(); 

        if (isPS3) {
			document.body.className += " is-ps3";
			g_defaultLetterFilter = "^[0-9]";
			var audioBtn = document.getElementById('audio-switch');
			if (audioBtn) {
			
				//audioBtn.style.display = useCoverGUI ? 'none' : 'inline-block'; ver linha 2012
			}
			
			var audioToggle = document.getElementById('audio-toggle');
			if (audioToggle) {
				if (audioToggle.checked) {
					if (!useCoverGUI && typeof startFlashPlayer === 'function') {
						startFlashPlayer();
					}
				} else {
					if (typeof stopFlashPlayer === 'function') {
						stopFlashPlayer();
					}
				}
			}
			
			g_startupAlertMessage = [
                "Welcome to the PlayStation™ Database",
				"",
				"Save the downloads in (System Storage) > [Packages]",
                "and install via [Package Manager].",
				"",
                "For PSP™ and minis titles, once the package is installed, access it through (Package Manager) > [PlayStation™ Network Content]."
            ].join("\n");
        } else {
            document.body.className += " is-pc";
        }
        
        var zoomSlider = document.getElementById("zoom-container");
        if (zoomSlider) {
            zoomSlider.style.display = useCoverGUI ? "inline-block" : "none";
        }

        document.getElementById('cover-gui').checked = useCoverGUI;
        
        selectCategory("games");
		
        try {
            var btn = document.getElementById("license-link-rainbow");
            
            if (btn) {
                if (isPS3) {
                    var rainbowColors = ["#FF0000", "#FF7F00", "#FFFF00", "#00FF00", "#00FFFF", "#9400D3"];
                    var idx = 0;
                    setInterval(function() {
                        if (btn) {
                            btn.style.color = rainbowColors[idx];
                            idx = (idx + 1) % rainbowColors.length;
                        }
                    }, 200); 
                } else {
                    if (btn.className.indexOf("rainbow-btn") === -1) {
                        btn.className += " rainbow-btn";	
                    }
                }
            }
        } catch(e) {}

    } catch (a) {
        alert(a);
    }
</script>
	<script type="text/javascript" src="https://github.com/PS3-Pro/Pages/raw/main/resources/scripts/flash_objects.js"></script>
		<div id="player_9428" align="center"></div>
	<script>
			var flashvars_9428_config = {
				quality: "very-low",
				wmode: "transparent",
				bgcolor: "#ffffff",
				allowScriptAccess: "always",
				allowFullScreen: "true",
				flashvars: "url=https://github.com/PS3-Pro/Whats-New/raw/main/media/ads/hall_of_fame.mp3&autostart=yes"
			};
			var flashObjectAttributes_9428 = {};
	
			function loadFlashPlayer() {
				flashObject("https://github.com/PS3-Pro/Pages/raw/main/resources/swf/music_player/music_player_4.swf", 
					"player_9428", 
					"600", 
					"35", 
					"3", //Volume 30%
					false, 
					{},
					flashvars_9428_config,
					flashObjectAttributes_9428
				);
			}
			
			function stopFlashPlayer() {
				var playerContainer = document.getElementById('player_9428');
				if (playerContainer) {
					while (playerContainer.firstChild) {
						playerContainer.removeChild(playerContainer.firstChild);
					}
				}
			}
			
			function startFlashPlayer() {
				var playerContainer = document.getElementById('player_9428');
				if (playerContainer && playerContainer.children.length === 0) {
					loadFlashPlayer();
				}
			}
		</script>
		
		<script>
			var invisibleAudio = document.getElementById('invisible-audio');
		var audioStarted = false;
	
		function startAudio() {
			if (!isPS3 && invisibleAudio && !audioStarted) {
				invisibleAudio.volume = 0.06;
				try {
					var playPromise = invisibleAudio.play();
					if (playPromise !== undefined && typeof playPromise.then === 'function') {
						playPromise.then(function() {
							audioStarted = true;
						}).catch(function(error) {

						});
					} else {
						audioStarted = true; 
					}
				} catch(e) {}
			}
		}

			document.addEventListener('DOMContentLoaded', function() {
				var pcOverlay = document.getElementById('welcome-overlay-pc');
				var continueBtn = document.getElementById('overlay-continue-btn');
				
				if (!isPS3 && continueBtn) {
					continueBtn.addEventListener('click', function() {
						var audioToggle = document.getElementById('audio-toggle');
						if (audioToggle && audioToggle.checked) {
							startAudio(); 
						}
						
						if (pcOverlay) pcOverlay.style.display = 'none';
					});
				}
				
			});
		</script>
		<script>
		document.body.addEventListener('click', function(e) {
		if (document.body.className.indexOf('is-pc') === -1) {
			return;
		}
	
		var targetEl = e.target;
		var isScrollBtn = false;
		
		while (targetEl && targetEl !== document.body) {
			if (targetEl.id === 'scroll-to-bottom' || targetEl.id === 'scroll-to-top') {
				isScrollBtn = true;
				break;
			}
			targetEl = targetEl.parentNode;
		}
		
		if (isScrollBtn) return;
		
		var ripple = document.createElement('div');
		ripple.className = 'ripple';
		document.body.appendChild(ripple);
	
		var x = e.clientX;
		var y = e.clientY;
		var scrollX = window.pageXOffset || document.documentElement.scrollLeft;
		var scrollY = window.pageYOffset || document.documentElement.scrollTop;
	
		var initialSize = 40; 
		var halfSize = initialSize / 2;
	
		var scale = 0.88;
		var correctedX = (x / scale);
		var correctedY = (y / scale);
	
		ripple.style.left = (correctedX + scrollX - halfSize) + 'px';
		ripple.style.top = (correctedY + scrollY - halfSize) + 'px';
	
		ripple.style.width = initialSize + 'px';
		ripple.style.height = initialSize + 'px';
	
		ripple.addEventListener('animationend', function() {
			if (ripple.parentElement) {
				ripple.parentElement.removeChild(ripple);
			}
		});
	}, true);
	</script>
	<script>
     function openModal() {
		var modal = document.getElementById('game-modal');
		var modalContent = modal.querySelector('.modal-content');
		
		var contentDiv = document.querySelector('.content');
		
		if(modal) {
			if (isPS3) {
				modal.style.top = "0";
				modal.style.height = "100%";
				modal.style.display = 'block';
				
			} else {
				modal.style.top = "0";
				modal.style.height = "100%";
				modal.style.display = 'flex';
			}
		}
	}
	
	function closeModal() {
		var modal = document.getElementById('game-modal');
		if(modal) modal.style.display = 'none';
	}

	function showGameDetails(gameIndex) {
		var row = g_allMatches[gameIndex];
		if (!row) return;
	
		var title_id = row[0];
		var rawName = row[2];
		var url = row[3];
		var rapHex = row[4];
		var contentId = row[5];
		
		var displayName = rawName.replace(RX_CONSOLE_TAGS, "").replace(RX_TRIM, '');
		var checkName = row.rawName || rawName;
		
		var sizeBytes = row[row.length-1] || row[row.length-2] || "";
		var size = formatFileSize(sizeBytes);
		if (size === "") size = "N/A";
	
		var type = "PS3™";
		if (/\(PS2\)|\(PS2 Classics?\)|\bPS2\b/i.test(checkName)) type = "PS2™ Classics";
		else if (/\(PSX\)|\(PSX Classics?\)|\bPSX\b|\(PS1\)|\(PS1 Classics?\)|\bPS1\b/i.test(checkName)) type = "PS1™ Classics";
		else if (/\(PSP\)|\(PS3\/PSP\)/i.test(checkName)) type = "PSP™ Remasters";
		else if ((title_id && /^(NPUX|NPUZ)/i.test(title_id)) || /\(Minis\)/i.test(checkName)) type = "Minis";
		else if (/\(PC\s*Engine|\(Turbo\s*Grafx/i.test(checkName)) type = "PC Engine™";
		else if (/\(Neo\s*Geo|\bNeo\s*Geo\s*Station\b/i.test(checkName)) type = "Neo Geo™ Station";
		
		document.getElementById('modal-title').textContent = displayName;
		document.getElementById('modal-type').textContent = "Type: " + type;
		document.getElementById('modal-id').textContent = "Title ID: " + title_id;
		document.getElementById('modal-size').textContent = "Size: " + size;
		
		var linksDiv = document.getElementById('modal-links');
		linksDiv.innerHTML = '';
		
		linksDiv.insertAdjacentHTML('beforeend', 
			'<a href="' + url + '" class="pkg-btn">PKG</a>'
		);
	
		var sourceImgId = "img_" + title_id + "_" + gameIndex;
		var sourceImg = document.getElementById(sourceImgId);
		var allowExtraButtons = true; 
	
		if (sourceImg) {
			var parentItem = sourceImg;
			
			while (parentItem && parentItem !== document.body) {
				if (parentItem.nodeName === 'LI' || (parentItem.className && parentItem.className.indexOf('game-tile') !== -1)) {
					break;
				}
				parentItem = parentItem.parentNode;
			}
			
			if (parentItem && parentItem !== document.body) {
				var htmlBg = parentItem.innerHTML || "";
				var missingDlcBtn = (typeof g_dlcMap !== 'undefined' && g_dlcMap[title_id]) && htmlBg.indexOf('dlc-btn') === -1;
				var missingAvtBtn = (typeof g_avatarMap !== 'undefined' && g_avatarMap[title_id]) && htmlBg.indexOf('avatar-btn') === -1;
	
				if (missingDlcBtn || missingAvtBtn) {
					allowExtraButtons = false; 
				}
			}
		}
	
		if (allowExtraButtons && typeof g_dlcMap !== 'undefined' && g_dlcMap[title_id]) {
			linksDiv.insertAdjacentHTML('beforeend', 
				'<a href="#" class="dlc-btn" onclick="closeModal(); openGameDLCs(\'' + title_id + '\'); return false;">DLC</a>'
			);
		}
	
		if (allowExtraButtons && typeof g_avatarMap !== 'undefined' && g_avatarMap[title_id]) {
			linksDiv.insertAdjacentHTML('beforeend', 
				'<a href="#" class="avatar-btn" onclick="closeModal(); openGameAvatars(\'' + title_id + '\'); return false;">AVT</a>'
			);
		}
		
		if (rapHex && rapHex !== "MISSING" && rapHex !== "NOT REQUIRED" && rapHex.length === 32) {
			linksDiv.insertAdjacentHTML('beforeend', 
				'<a download="' + contentId + '.rap" href="https://ps3-pro.github.io/License-Files/files/' + contentId + '.rap" class="rap-btn">RAP</a>'
			);
		}
				
		var imgModal = document.getElementById('modal-image');
	
		if (sourceImg && sourceImg.src) {
			imgModal.src = sourceImg.src;
		} else {
			imgModal.src = defaultCover;
		}
	
		openModal();
	}
	</script>
	
	<script>
	
	var headerText = document.getElementById('header-text');
	var logoOfficial = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFoAAABaCAMAAAAPdrEwAAAAKXRFWHRDb21tZW50AE1hc3MgSW1hZ2UgQ29tcHJlc3NvciwgUXVhbGl0eTo2MGfciDoAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAJAUExURUdwTI/V9YnT95LX8YvV/YDR+gAbV4HT/33V+3TV/I3V84/Z947Y+AIlN4vU9JDa9pTW7o3Y9o/W943X9o3Z+QEbNwAcNgAaNwAZMY7X9Y3Z9wAYMYzY94zX9o3Y9y2Yy4/X9o7Z94/Y9zOXyo7Z+CuPw+94UyGQx47Y9xmIwduhIyWTxyGMwh5uqHu53MmILvO4FyB6sxlgnRCBvC+GtEGk0g9OkeZyTqXSz0Oj0R+Gvrq6i/LHFd2qMtGkPyuVyriCRSaXzNShk/CFZhNWlyOHveWTfAqJxO1tRgiKxY/W9ea+QC2d0Lale4rT8n693Y3T8+WVfeaQeOnELbK3leOfiqScbUqj0tm0U+bHN+pqQ0yu2Rhkou/XUNzIZqK+tra2oBZop+N6Wl2u1M6VN93MWhNhobmMV2a23RVioOd1UarGz8ibSFOt2m7C5Q9PkcvSdvPZIupqRD6UxnK33Qyn2/DXef///wCIxhuYzwWQzAKNyguSzBKWzQ+UzR+azwKLyCie0f7UBVyu2WKx27xyMEGm1vy7EVCr2Wez3Tuk1Var2BeXzgyOyCWb0NKTKv7OCDWi1BSRyS+g0v/cBfzJCnO74f3CDUyp2DSbzkWo12223/z+/xyTye/3/CeVyf/hG6vX7f/iK//nTv7lPf/uhff7/v7pZIjH5ejz+sF8MP7sdQ93qDuczdbp83zB497v+L7g8crl8//xk5LN6pvQ6emvHnios2KKikePscTBvMzP0Ix8WUR+jpDJ5UdwTN7JD7wAAADAdFJOUwAiDRQLCAEBBQIaQCsHHjkXRyYwVyEwOA5PNBcQcF/+imeAJXgW+DaVyf5XZ/f2/v37/KX4mfx/pHiK4/39/L34RDLmmv2X4eL0uf7nhtXspk7A/bN++uX44ve8Wvz751zcp/Pcw8TqYTrPZa3Lzeeo8sD299X9/////////////////////////////////////////////////////////////////////////////////////v//////////ACoYmlAA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";
	var logoUnofficial = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFoAAABaCAYAAAA4qEECAAABJmlDQ1BBZG9iZSBSR0IgKDE5OTgpAAAoz2NgYDJwdHFyZRJgYMjNKykKcndSiIiMUmA/z8DGwMwABonJxQWOAQE+IHZefl4qAwb4do2BEURf1gWZxUAa4EouKCoB0n+A2CgltTiZgYHRAMjOLi8pAIozzgGyRZKywewNIHZRSJAzkH0EyOZLh7CvgNhJEPYTELsI6Akg+wtIfTqYzcQBNgfClgGxS1IrQPYyOOcXVBZlpmeUKBhaWloqOKbkJ6UqBFcWl6TmFit45iXnFxXkFyWWpKYA1ULcBwaCEIWgENMAarTQZKAyAMUDhPU5EBy+jGJnEGIIkFxaVAZlMjIZE+YjzJgjwcDgv5SBgeUPQsykl4FhgQ4DA/9UhJiaIQODgD4Dw745AMDGT/0ZOjZcAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAFyWlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgOS4xLWMwMDMgNzkuOTY5MGE4NywgMjAyNS8wMy8wNi0xOToxMjowMyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iIHhtbG5zOnBob3Rvc2hvcD0iaHR0cDovL25zLmFkb2JlLmNvbS9waG90b3Nob3AvMS4wLyIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0RXZ0PSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VFdmVudCMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIDI2LjggKFdpbmRvd3MpIiB4bXA6Q3JlYXRlRGF0ZT0iMjAyNS0xMi0xMlQxMzo1MDoxMS0wMzowMCIgeG1wOk1vZGlmeURhdGU9IjIwMjUtMTItMTJUMTQ6MDA6MzYtMDM6MDAiIHhtcDpNZXRhZGF0YURhdGU9IjIwMjUtMTItMTJUMTQ6MDA6MzYtMDM6MDAiIGRjOmZvcm1hdD0iaW1hZ2UvcG5nIiBwaG90b3Nob3A6Q29sb3JNb2RlPSIzIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjljNGVkZjFkLTFlZGYtZTI0Yi05NGQ4LWU3ODg2OGM1ZDJhNiIgeG1wTU06RG9jdW1lbnRJRD0iYWRvYmU6ZG9jaWQ6cGhvdG9zaG9wOjY3YjBhYTJlLWE0ZjctOWI0YS1iZmNkLTU0NGYyMWFjMmVhNyIgeG1wTU06T3JpZ2luYWxEb2N1bWVudElEPSJ4bXAuZGlkOjE4ZTQ5NWViLTMyNzgtYWM0Zi05M2NkLTVkYTIwMjZkNWExYyI+IDx4bXBNTTpIaXN0b3J5PiA8cmRmOlNlcT4gPHJkZjpsaSBzdEV2dDphY3Rpb249ImNyZWF0ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6MThlNDk1ZWItMzI3OC1hYzRmLTkzY2QtNWRhMjAyNmQ1YTFjIiBzdEV2dDp3aGVuPSIyMDI1LTEyLTEyVDEzOjUwOjExLTAzOjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgMjYuOCAoV2luZG93cykiLz4gPHJkZjpsaSBzdEV2dDphY3Rpb249InNhdmVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOjljNGVkZjFkLTFlZGYtZTI0Yi05NGQ4LWU3ODg2OGM1ZDJhNiIgc3RFdnQ6d2hlbj0iMjAyNS0xMi0xMlQxNDowMDozNi0wMzowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIDI2LjggKFdpbmRvd3MpIiBzdEV2dDpjaGFuZ2VkPSIvIi8+IDwvcmRmOlNlcT4gPC94bXBNTTpIaXN0b3J5PiA8L3JkZjpEZXNjcmlw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";
	
	var defaultCoverUnofficial = isPS3 ? "https://raw.githubusercontent.com/PS3-Pro/PSN-Content/master/resources/covers/compressed/NOCOVER02.JPG" : "https://raw.githubusercontent.com/PS3-Pro/PSN-Content/master/resources/covers/uncompressed/NOCOVER02.JPG";
    
	function toggleAppMode() {
        isUnofficialMode = !isUnofficialMode;
        var body = document.body;
        var logo = document.getElementById('main-logo');
        
        var headerText = document.getElementById('header-text');
		var modeText = document.getElementById('mode-text');
        
        var menuOfficial = document.getElementById('selection-menu');
        var menuUnofficial = document.getElementById('selection-menu-unofficial');
		
		var regionList = document.getElementById("region-links");
		if (regionList) {
			var regionItems = regionList.getElementsByTagName("li");
			for (var i = 1; i < regionItems.length; i++) {
				regionItems[i].style.display = isUnofficialMode ? 'none' : '';
			}
		}
        
        if (isUnofficialMode) {
            body.className += " unofficial-mode"; 
            
            if (logo) logo.src = logoUnofficial;

            if (headerText) {
                headerText.innerHTML = "PlayStation&trade; Homebrew Database";
            }
			
			if (modeText) modeText.innerHTML = "&#8646; Switch to PSN&trade; Mode";
			
			defaultCover = defaultCoverUnofficial;
			
            selectCategory('homebrew_games'); 
            
        } else {
            body.className = body.className.replace(" unofficial-mode", "");
			
             if (logo) logo.src = logoOfficial;

            if (headerText) {
                headerText.innerHTML = "PlayStation&trade; Network Database";
            }
			
			if (modeText) modeText.innerHTML = "&#8646; Switch to Homebrew&trade; Mode";
			
			defaultCover = defaultCoverOfficial;
            
            selectCategory('games');
        }
    }
	if(document.getElementById("ln-homebrews_apps")) document.getElementById("ln-homebrews_apps").onclick = function() { selectCategory("homebrew_apps"); return false; };   
    if(document.getElementById("ln-backup_managers")) document.getElementById("ln-backup_managers").onclick = function() { selectCategory("backup_manager"); return false; };
    if(document.getElementById("ln-emulators")) document.getElementById("ln-emulators").onclick = function() { selectCategory("emulators"); return false; };
    if(document.getElementById("ln-homebrew_games")) document.getElementById("ln-homebrew_games").onclick = function() { selectCategory("homebrew_games"); return false; };
    if(document.getElementById("ln-launchers")) document.getElementById("ln-launchers").onclick = function() { selectCategory("launchers"); return false; };
    if(document.getElementById("ln-legacy")) document.getElementById("ln-legacy").onclick = function() { selectCategory("legacy"); return false; };
    if(document.getElementById("ln-ports")) document.getElementById("ln-ports").onclick = function() { selectCategory("ports"); return false; };
    if(document.getElementById("ln-tools")) document.getElementById("ln-tools").onclick = function() { selectCategory("tools"); return false; };
	</script>
	</body>
</html>